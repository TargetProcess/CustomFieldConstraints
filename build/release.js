tau.mashups.addModule("CustomFieldConstraints/config", [
    {
        "processId": 4,
        "constraints": {
            "userstory": {
                "entityStates": [
                    {
                        "name": "Open",
                        "requiredCustomFields": [
                            "Cf1",
                            "Cf3"
                        ]
                    }
                ],
                "customFields": [
                    {
                        "name": "Cf1",
                        "valueIn": [
                            "Cf1ValueThatRequiresCf2"
                        ],
                        "requiredCustomFields": [
                            "Cf2"
                        ]
                    },
                    {
                        "name": "Cf3",
                        "valueIn": [
                            "Cf3ValueThatRequiresCf4"
                        ],
                        "requiredCustomFields": [
                            "Cf4"
                        ]
                    }
                ]
            },
            "task": {
                "entityStates": [
                    {
                        "name": "Done",
                        "requiredCustomFields": [
                            "Cf1"
                        ]
                    }
                ]
            },
            "project": {
                "customFields": [
                    {
                        "name": "Cf1",
                        "valueNotIn": [
                            "Cf1ValueThatDoesNotRequireCf2"
                        ],
                        "requiredCustomFields": [
                            "Cf2"
                        ]
                    }
                ]
            }
        }
    },
    {
        "constraints": {
            "user": {
                "entityStates": [
                    {
                        "name": "Open",
                        "requiredCustomFields": [
                            "Age"
                        ]
                    }
                ],
                "customFields": [
                    {
                        "name": "Age",
                        "requiredCustomFields": [
                            "Height"
                        ]
                    }
                ]
            }
        }
    }
]);
/*! v1.0.0 Build Tue Feb 02 2016 17:35:29 GMT+0300 (MSK) */
!function(){var e={},t=function(){var t,n,r,o=Array.prototype.slice.call(arguments,0);"string"==typeof o[0]?(r=o[0],t=o[1],n=o[2]):Array.isArray(o[0])&&(t=o[0],n=o[1]);var a=t.reduce(function(e,t){return e.addDependency(t)},tau.mashups);return a=a.addDependency(r+"/config"),a=a.addMashup(function(){var o=Array.prototype.slice.call(arguments,0);if(t.length>0&&1===o.length)throw new Error("Can't properly load dependencies for mashup \""+r+'", mashup is stopped.');return e.variables=o[o.length-1],o.length-t.length===2?e.config=o[o.length-2]:e.config={},Object.freeze&&(Object.freeze(e.variables),Object.freeze(e.config),Object.freeze(e)),n.apply(null,o)})};t("CustomFieldConstraints",["jQuery","Underscore","tau/configurator","tp3/mashups/sliceinterrupter","tp3/mashups/storage","react","tau/utils/utils.date","tau/components/component.container","tau/components/component.creator","tau/service.container","tau/services/service.navigator","tau/services/service.applicationContext","tau/components/component.application.generic","tau/ui/extensions/application.generic/ui.extension.application.generic.placeholder","tau/components/component.page.base","tau/core/class","tau/core/extension.base","tau/core/bus.reg","tau/core/templates-factory","tau/core/view-base","tau/services/service.customFields.cached","tau/libs/store2/store2"],function(t,n,r,o,a,u,i,l,s,c,f,p,d,y,m,h,v,g,b,O,w,j){return function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=t,n.c=r,n.p="",n.p=e.variables?e.variables.mashupPath:n.p,n(0)}([function(e,t,n){n(2),n(20),n(7),n(35),n(44),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(19),n(81),n(82),n(83),e.exports=n(84)},,function(t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var a=r(3),u=o(a),i=r(14),l=o(i),s=r(18),c=o(s),f=e.variables.placeholderId,p=e.config,d=function(e,t){var n=e.entity,o=e.axes;!function(){var e=r(20),a=r(21)["default"],u=document.getElementById(f).appendChild(document.createElement("div")),i=function(){e.unmountComponentAtNode(u),t.reject({response:{Message:"The changes were not saved as you didn't fill out the required custom fields"},status:400})},l=function(){e.unmountComponentAtNode(u),t.resolve()};e.render(e.createElement(a,{changes:o,entity:n,mashupConfig:p,onAfterSave:l,onCancel:i}),u)}(r)},y=function(){d.apply(void 0,arguments)},m=function(){(0,l["default"])(p,y),(0,c["default"])(p,y),(0,u["default"])(p)};setTimeout(m,100)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),u=r(a),i=n(5),l=n(6),s=n(8),c=r(s),f=n(9),p=n(10),d=function(e,t,n){var r=function(e){var t=e.data.element,r=this;n(t,r)};e.getComponentBusRegistry().getByName(t).then(function(e){e.on("afterRender",r)})},y=function(e){return{type:"CustomField",config:e.config,caption:e.name,fieldType:e.fieldType,processId:e.process?e.process.id:null,required:!0,options:o({},e)}},m=["afterInit:last","before_dataBind"],h=function(e,t){return(0,l.addBusListener)(e,m.join(" + "),function(e){e.before_dataBind.suspendMain();var n=e.afterInit.data,r=e.before_dataBind.data,o=e["settings.ready"]?e["settings.ready"].data:void 0,a=function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];t.forEach(function(e){return r.types[e.entityType.name].template.items.push(y(e))}),e.before_dataBind.resumeMain()},u=n.config.context.configurator;t(a,u,n,r,o)})},v=function(e){var t=e.config;return t.options&&t.options.slice?t.options.slice.config.definition:null},g=function(e,t){var n=e.config;return(0,c["default"])(n.options.action?n.options.action[t]:(0,i.last)(n.options.path))},b=function(e,t){if(t.types)return(0,i.map)(t.types,function(e){return{name:e.entityType.name}});if(e.addAction)return e.addAction.data.types.map(function(e){return{name:e.name}});var n=v(e);return n?n.cells.types.map(function(e){return{name:e.type}}):[]},O=function(e,t){var n=[{type:"entitystate",targetValue:"_Initial"}],r=v(e),o=["x","y"].reduce(function(t,n){var o=r?r[n]:null;if(!o)return t;if((0,f.inValues)(o.types,"entitystate"))return t.concat({type:"entitystate",targetValue:g(e,n)});var a=(0,i.find)(o.types,function(e){return e.match(f.SLICE_CUSTOMFIELD_PREFIX)});return a?t.concat({type:"customfield",customFieldName:a.replace(f.SLICE_CUSTOMFIELD_PREFIX,""),targetValue:g(e,n)}):t},[]);return(0,f.isAssignable)({entityType:t})?(0,i.unique)(o.concat(n),function(e){return e.type}):o},w=function(e,t){var n=e.getApplicationContextService(),r=new a.Deferred;return n.getApplicationContext(t,{success:r.resolve}),r.promise()},j=function(e){var t=e.getAppStateStore();return(0,a.when)(t.get({fields:["acid"]})).then(function(t){var n=t.acid;return w(e,{acid:n})}).then(function(e){var t=e.processes;return t})},_=function(e,t){return e.find("[data-iscf=true][data-fieldname="+t+"]")},P=function(e){e.parent().removeClass("show"),e.parent().find("input, select").toArray().forEach(function(e){return(0,u["default"])(e).data("validate").rules=(0,i.without)((0,u["default"])(e).data("validate").rules,"required")})},x=function(e){e.parent().addClass("show"),e.parent().find("input, select").toArray().forEach(function(e){return(0,u["default"])(e).data("validate").rules=(0,u["default"])(e).data("validate").rules.concat("required")})},C=function(e,t,n){t.forEach(function(t){return P(_(e,t.name))}),n.forEach(function(t){return x(_(e,t.name))})},T=function(e,t){return(0,i.object)(t.map(function(t){return[t.name,_(e,t.name).val()]}))},E=function(e,t){return(0,u["default"])(e.find(".tau-control-set").toArray().filter(function(e){return(0,f.equalIgnoreCase)((0,u["default"])(e).data("type"),t.name)}))},k=function(e,t,n){return t.map(function(t){return _(e,t.name).on("change, input",(0,i.compose)(n,(0,i.constant)(void 0)))})},F=function(e,t){return e.find(".project").on("change, input",function(e){var n=(0,u["default"])(e.currentTarget),r=n.val(),o=parseInt(n.children().filter("[value="+r+"]").data("option").processId,10);setTimeout(function(){return t({id:o})},1)})},S=function(e,t,n,r,o,u,i){var l=[],s=[],c={};d(e,t,function(e,t){var i=E(e,u),f=function(){return t.fire("adjustPosition")},d=function(){var e=arguments.length<=0||void 0===arguments[0]?o:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return(0,a.when)((0,p.getCustomFieldsForAxes)(n,r,e,{entityType:u},t,{skipValuesCheck:!1})).then(function(e){s=e,C(i,l,s)}).then(f)};d(),k(i,l,function(){c=T(i,s),d(o,c)}),F(i,function(e){return d([e],c)})}),(0,a.when)((0,p.getCustomFieldsForAxes)(n,r,o,{entityType:u},{},{skipValuesCheck:!0})).then(function(e){l=e}).then(function(){return i(l)}).fail(function(){return i([])})},I=function(e,t){var n=t.busName;return h(n,function(t,r,o,u){p.getCustomFieldsForAxes.resetCache();var l=b(o,u);(0,a.when)(j(r)).then(function(u){return(0,a.whenList)(l.map(function(t){var i=new a.Deferred,l=O(o,t);return l.length?S(r,n,e,l,u,t,i.resolve):i.resolve([]),i.promise()})).then(function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];return t((0,i.flatten)(n))})}).fail(function(){return t()})})};t["default"]=function(e){var t="board plus quick add general",n="board plus quick add cells",r="board axis quick add",o="board.cell.quick.add",a="relations-quick-add-general",u=[{busName:t},{busName:n},{busName:r},{busName:o},{busName:a}];u.forEach(function(t){I(e,t)})}},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){"use strict";var r=n(7),o=r.getBusRegistry(),a=function(e){return function(){e.apply(null,Array.prototype.slice.call(arguments).slice(1))}},u=function(e,t,n,r){var u=a(function(o){var a=o.bus;a.name===e&&a[r?"once":"on"](t,n)}),i=o.addEventListener("create",u);return o.addEventListener("destroy",a(function(r){var o=r.bus;o.name===e&&o.removeListener(t,n,i)})),{remove:function(){o.removeListener("create",u,i),o.getBusRegistry().getByName(e).then(function(e){e.removeListener(t,n,i)})}}},i=function(e,t,n){return u(e,t,n,!0)};e.exports={addBusListener:u,addBusListenerOnce:i}},function(e,t){e.exports=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t,n,r={},o=[],a="",u=String.fromCharCode,i=[[65,91],[97,123],[48,58],[43,44],[47,48]];for(n in i)for(t=i[n][0];t<i[n][1];t++)o.push(u(t));for(t=0;64>t;t++)r[o[t]]=t;for(t=0;t<e.length;t+=72){var l,s,c=0,f=0,p=e.substring(t,t+72);for(s=0;s<p.length;s++)for(l=r[p.charAt(s)],c=(c<<6)+l,f+=6;f>=8;)a+=u((c>>>(f-=8))%256)}return a.replace(/[^\w\s]/gi,"")};t["default"]=function(e){if(0!==e.indexOf("b64_"))return e;var t=e;return t=t.replace(/_0/g,"+"),t=t.replace(/_1/g,"/"),t=t.replace(/_2/g,"="),t=t.substring(4,t.length-1),n(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStateRelated=t.SLICE_CUSTOMFIELD_PREFIX=t.getEntityTypesNamesFromConfig=t.isUser=t.isAssignable=t.isGeneral=t.inValues=t.equalByShortcut=t.equalIgnoreCase=t.lc=void 0;var r=n(5),o=t.lc=function(e){return e.toLowerCase()},a=t.equalIgnoreCase=function(e,t){return o(String(e))===o(String(t))},u=(t.equalByShortcut=function(e,t){return{_initial:t.isInitial,_final:t.isFinal,_planned:t.isPlanned}[o(e)]||!1},t.inValues=function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return(0,r.isArray)(t)?t.some(function(t){return e.some(function(e){return a(t,e)})}):e.some(function(e){return a(e,t)})});t.isGeneral=function(e){return u(["General","Assignable","InboundAssignable","OutboundAssignable","Epic","Feature","UserStory","Task","Bug","TestPlan","TestPlanRun","Request","Project","Program","Release","Iteration","TeamIteration","Team","TestCase","Build","Impediment"],e.entityType.name)},t.isAssignable=function(e){return u(["Assignable","InboundAssignable","OutboundAssignable","Epic","Feature","UserStory","Task","Bug","TestPlan","TestPlanRun","Request"],e.entityType.name)},t.isUser=function(e){return u(["GeneralUser","User","Requester"],e.entityType.name)},t.getEntityTypesNamesFromConfig=function(e){return(0,r.unique)(e.reduce(function(e,t){return e.concat(Object.keys(t.constraints))},[]))},t.SLICE_CUSTOMFIELD_PREFIX=/^ddl(multipleselectionlist)?/,t.isStateRelated=function(e){return u(["entitystate","assignedteams","teamentitystate"],e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomFieldsForAxes=void 0;var u=n(4),i=n(5),l=n(9),s=n(11),c=r(s),f=n(12),p=r(f),d=n(13),y=function(e,t){return e.reduce(function(e,n){var r=(0,i.find)(t,function(e){return(0,l.equalIgnoreCase)(e.name,n)});return r?e.concat(r):e},[])},m=(0,i.memoize)(function(e,t){return(0,l.isGeneral)({entityType:t})?p["default"].get("CustomField",{take:1e3,where:"process.id == "+e+' and entityType.name == "'+t.name+'"',select:"new(required, name, id, config, fieldType, value, entityType, process)"}):p["default"].get("CustomField",{take:1e3,where:'process.id == null and entityType.name == "'+t.name+'"',select:"new(required, name, id, config, fieldType, value, entityType, process)"})}),h=function(e,t,n){return e.length?(0,u.when)(m(t,n)).then(function(t){return y(e,t)}):[]},v=(0,i.memoize)(function(e){return c["default"].get("EntityStates",{include:[{workflow:["id"]},{process:["id"]},{entityType:["name"]},"name","isInitial","isFinal","isPlanned",{subEntityStates:["id","name",{workflow:["id"]},"isInitial","isFinal","isPlanned"]}],where:"Process.Id in ("+e+")"})}),g=function(e,t,n){return(0,l.equalIgnoreCase)(n.entityType.name,t.name)&&((0,l.equalIgnoreCase)(e,n.name)||(0,l.equalByShortcut)(e,n))},b=function(e,t,n){var r=(0,i.partial)(g,e,t);return r(n)||n.subEntityStates.items.some(r)},O=function(e,t,n){return(0,u.when)(v(t)).then(function(t){return e.id?(0,i.find)(t,function(t){return t.id===e.id}):(0,i.find)(t,function(t){return g(e,n,t)})})},w=function(e,t,n){return(0,u.when)(h([e],t,n)).then(function(e){return e.length?e[0]:null})},j=(0,i.memoize)(function(e){return c["default"].get(e.entityType.name,e.id,{include:[{project:{process:["id"],teamProjects:["id"]},assignedTeams:["id",{team:["id"]}]}]})}),_=(0,i.memoize)(function(e){return e.length?c["default"].get("TeamProjects",{include:[{team:["id"]},{project:["id"]},{workflows:["id","name",{entityType:["name"]},{parentWorkflow:["id"]}]}],where:"id in ("+e.join(",")+")"}):[]}),P=function(e,t,n){if(e.id)return O(e,t,n.entityType);if(!(0,l.isAssignable)(n))return null;var r=n.entityType;return(0,u.when)(v(t),j(n)).then(function(e,t){var n=t.project?t.project.teamProjects.items:[],r=t.assignedTeams.items,o=t.project;return(0,u.when)(e,r,o,_((0,i.pluck)(n,"id")))}).then(function(t,o,a,u){var s=o.reduce(function(e,t){var r=t.team,o=(0,i.find)(u,function(e){return e.project.id===a.id&&e.team.id===r.id});if(!o)return e;var s=o.workflows.items.find(function(e){return(0,l.equalIgnoreCase)(e.entityType.name,n.entityType.name)});return s?e.concat(s):e},[]),c=(0,i.pluck)(s,"id");return t.find(function(t){return(0,l.inValues)(c,t.workflow.id)&&b(e,r,t)})})},x=function(e,t,n,r){return"entitystate"===e.type?O(t,n,r.entityType):"customfield"===e.type?w(e.customFieldName,n,r.entityType):"assignedteams"===e.type||"teamentitystate"===e.type?P(t,n,r):void 0},C=function(e,t,n,r){var i=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],s=arguments.length<=5||void 0===arguments[5]?{skipValuesCheck:!1}:arguments[5],c=arguments.length<=6||void 0===arguments[6]?{}:arguments[6],f=[],p=t.targetValue;return n.reduce(function(n,u){var y=u.id;return n.then(function(){return x(t,p,y,r)}).then(function(n){if(!n)return[];if((0,l.isStateRelated)(t.type))return(0,d.getCustomFieldsNamesForNewState)(n,e,y,r.entityType.name,i,c,s);if("customfield"===t.type){var u=a({},i,o({},n.name,p));return(0,d.getCustomFieldsNamesForChangedCustomFields)([n.name],e,y,r.entityType.name,u,c,s)}return[]}).then(function(e){return h(e,y,r.entityType)}).then(function(e){f=f.concat(e)})},(0,u.when)([])).then(function(){return f})},T=t.getCustomFieldsForAxes=function(e,t,n,r){var o=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],a=arguments.length<=5||void 0===arguments[5]?{}:arguments[5],s=arguments.length<=6||void 0===arguments[6]?{}:arguments[6];return(0,u.whenList)(t.map(function(t){return C(e,t,n,r,o,a,s)})).then(function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return(0,i.flatten)(t)}).then(function(e){var n=(0,i.unique)(e,function(e){return e.name}),r=t.reduce(function(e,t){return"customfield"===t.type?e.concat(t.customFieldName):e},[]);return n.filter(function(e){return!(0,l.inValues)(r,e.name)})})};T.resetCache=function(){m.cache=[],v.cache=[],j.cache=[],_.cache=[]}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=n(4),u=n(5),i=n(7),l=i.getStore().getTypes().getDictionary(),s=i.getApplicationPath(),c=function v(e){var t="";return e&&(Array.isArray(e)?t=e.map(v).join(","):"object"===("undefined"==typeof e?"undefined":o(e))?t=Object.keys(e).map(function(t){return t+"["+v(e[t])+"]"}).join(","):"function"!=typeof e&&(t=String(e))),t},f=function(e){return l[e.toLowerCase()].resource},p=function(e,t,n){return a.ajax({type:e,url:s+"/api/v1/"+t,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(n)})},d=function(e,t,n){return a.ajax({type:e,url:s+"/api/v1/"+t,contentType:"application/json; charset=utf-8",dataType:"json",data:n})},y=function(e,t){var n=function r(e,t){return d("get",e,t).then(function(e){var t=e.Items;return e.Next?r(e.Next).then(t.concat.bind(t)):t})};return n(e,t)},m=function g(e){return u.isArray(e)?e.map(function(e){return g(e)}):u.isObject(e)?u.object(u.map(e,function(e,t){var n=t[0].toLowerCase()+t.slice(1);return"Items"===n&&u.isArray(e)?g(e):[n,g(e)]})):e},h=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{take:1e3}:arguments[1],n=r({},t,e);return e.include&&"string"!=typeof e.include&&(n.include="["+c(e.include)+"]"),n};e.exports={get:function(){var e=Array.prototype.slice.call(arguments);return 3===e.length?d("GET",f(e[0])+"/"+e[1],h(e[2])).then(m):y(e[0],h(e[1],{take:1e3})).then(m)},remove:function(e,t){return d("DELETE",f(e)+"/"+t)},create:function(e,t){return p("POST",f(e),t)},save:function(e,t,n){return p("POST",f(e)+"/"+t,n)}}},function(e,t,n){"use strict";var r=n(4),o=n(5),a=n(7),u=a.getStore().getTypes().getDictionary(),i=a.getApplicationPath(),l=function(e){return u[e.toLowerCase()].resource},s=function(e,t,n){return r.ajax({type:e,url:i+"/api/v2/"+t,contentType:"application/json; charset=utf-8",dataType:"json",data:n})},c=function(e,t){var n=function(e,t){return s("get",e,t).then(function(e){var t=e.items;return t})};return n(e,t)},f=function d(e){return o.isArray(e)?e.map(function(e){return d(e)}):o.isObject(e)?o.object(o.map(e,function(e,t){var n=t[0].toLowerCase()+t.slice(1);return"Items"===n&&o.isArray(e)?d(e):[n,d(e)]})):e},p=function(e){return e};e.exports={get:function(){var e=Array.prototype.slice.call(arguments);return 3===e.length?s("GET",l(e[0])+"/"+e[1],p(e[2])).then(f):c(e[0],p(e[1])).then(f)}}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomFieldsNamesForChangedCustomFields=t.getCustomFieldsNamesForNewState=void 0;var o=n(5),a=function(e,t){return String(e).toLowerCase()===String(t).toLowerCase()},u=function(e,t){return(0,o.find)(e,function(e,n){return a(n,t)})},i=function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return(0,o.isArray)(t)?t.some(function(t){return e.some(function(e){return a(t,e)})}):e.some(function(e){return a(e,t)})},l=function(e,t){return{_initial:t.isInitial,_final:t.isFinal,_planned:t.isPlanned}[e]||!1},s=function(e,t,n,o){var i=o;"string"==typeof o&&(i={name:o});var s=i,c=s.name,f=e.filter(function(e){return!e.processId||e.processId===t});return f.reduce(function(e,t){var o=u(t.constraints,n);if(!o)return e;var s=u(o,"entityStates");if(!s)return e;var f=s.filter(function(e){return a(e.name,c)||l(e.name,i)});return f.reduce(function(e,t){return r({},e,{requiredCustomFields:e.requiredCustomFields.concat(t.requiredCustomFields||[])})},e)},{name:c,requiredCustomFields:[]})},c=function(e,t,n){var r=e.filter(function(e){return!e.processId||e.processId===t});return r.reduce(function(e,t){var r=u(t.constraints,n);if(!r)return e;var o=u(r,"customFields");return o?e.concat(o):e},[])},f=function(e){return e.map(function(e){return r({},e,{requiredCustomFields:(e.requiredCustomFields||[]).map(function(e){return{name:e}})})})},p=function(e,t){return t[e.name]},d=function(e,t){return e.valueIn&&!i(e.valueIn,t)?!1:e.valueNotIn&&i(e.valueNotIn,t)?!1:!0},y=function(e,t,n){return e.requiredCustomFields?n?e.requiredCustomFields:d(e,t)?e.requiredCustomFields:[]:[]},m=function(e,t,n,r){return e.reduce(function(e,n){return e.concat(y(n,t,r))},[])},h=function(e,t,n,r,u){var i=t.filter(function(t){return a(t.name,e.name)}),l=p(e,n),s=(0,o.pluck)(i,"name"),c=t.filter(function(e){return s.indexOf(e.name)<0}),f=m(i,l,c,u);return f.length?v(f,c,n,r,!0,u):[]},v=function(e,t,n,r){var o=arguments.length<=4||void 0===arguments[4]?!0:arguments[4],a=arguments.length<=5||void 0===arguments[5]?!1:arguments[5];return e.reduce(function(e,u){if(o&&r.hasOwnProperty(u.name))return e;var i=e;return o&&(i=i.concat(u)),i=i.concat(h(u,t,n,r,a))},[])};t.getCustomFieldsNamesForNewState=function(e,t,n,r){var a=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],u=arguments.length<=5||void 0===arguments[5]?{}:arguments[5],i=arguments.length<=6||void 0===arguments[6]?{skipValuesCheck:!1}:arguments[6],l=i.skipValuesCheck,p=s(t,n,r,e),d=f(c(t,n,r)),y=p.requiredCustomFields.map(function(e){return{name:e}}),m=v(y,d,a,u,!0,l);return(0,o.uniq)((0,o.pluck)(m,"name"))},t.getCustomFieldsNamesForChangedCustomFields=function(e,t,n,r){var a=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],u=arguments.length<=5||void 0===arguments[5]?{}:arguments[5],l=arguments.length<=6||void 0===arguments[6]?{skipValuesCheck:!1}:arguments[6],s=l.skipValuesCheck,y=f(c(t,n,r)),m=y.filter(function(t){return i(e,t.name)&&d(t,p(t,a))}),h=v(m,y,a,u,!1,s);return(0,o.uniq)((0,o.pluck)(h,"name"))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(4),u=n(15),i=r(u),l=n(8),s=r(l),c=n(9),f=n(16),p=n(17),d=function(e,t){var n={entity:{id:parseInt((0,s["default"])(e.id),10),entityType:{name:e.type}},axes:t.reduce(function(e,t){return t.name.match(c.SLICE_CUSTOMFIELD_PREFIX)?e.concat({type:"customfield",customFieldName:t.name.replace(c.SLICE_CUSTOMFIELD_PREFIX,""),targetValue:(0,s["default"])(t.value)}):(0,c.isStateRelated)(t.name)?e.concat({type:(0,c.lc)(t.name),targetValue:(0,s["default"])(t.value)}):e},[])};return(0,a.when)((0,p.createRequirementsByTasks)(n)).then(function(e){return[n].concat(e)})},y=function(e){return(0,a.whenList)(e.map(function(e){return d(e,e.changes)})).then(function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return(0,o.flatten)(t)})};t["default"]=(0,f.createInterrupter)({systemInterrupter:new i["default"],getEntitiesFromChanges:y})},function(e,t){e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFullChanges=t.createInterrupter=void 0;var r=n(4),o=n(9),a=function(e,t,n,o){var a=e.reduce(function(e,n){return e.then(function(){var e=new r.Deferred;return t(n,e),e.promise()})},(0,r.when)(!0));(0,r.when)(a).then(n,o)};t.createInterrupter=function(e){var t=e.systemInterrupter,n=e.getEntitiesFromChanges;return function(e,u){var i=(0,o.getEntityTypesNamesFromConfig)(e);i.forEach(function(e){t.interruptSave(e,function(e,t){var o=e.resolve,i=e.reject,l=t.filter(function(e){return e.id});return l.length?void(0,r.when)(n(l)).then(function(e){return e.filter(function(e){return e&&e.axes.length})}).then(function(e){return a(e,u,o,i)}).fail(function(){return o()}):void o()})})}},t.createFullChanges=function(e){return e.map(function(e){return{entity:{},to:e,processId:null}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createRequirementsByTasks=void 0;var o=n(5),a=n(4),u=n(11),i=r(u),l=n(9),s=function(e){return i["default"].get("EntityStates",e,{include:["isFinal"]})},c=function(e){return(0,l.equalIgnoreCase)(e,"_final")?!0:e.id?(0,a.when)(s(e.id)).then(function(e){return e.isFinal}):void 0},f=function(e){return e.filter(function(e){return!e.entityState.isFinal}).map(function(e){return{entity:e,axes:[{type:"entitystate",targetValue:"_final"}]}})},p=function(e){return i["default"].get("Tasks",{include:["EntityType",{EntityState:["isFinal"]}],where:"UserStory.id eq "+e.id})};t.createRequirementsByTasks=function(e){var t=e.entity,n=e.axes;if((0,l.equalIgnoreCase)(t.entityType.name,"userstory")){var r=(0,o.find)(n,function(e){return"entitystate"===e.type});if(r)return(0,a.when)(c(r.targetValue)).then(function(e){return e?(0,a.when)(p(t)).then(function(e){return f(e)}):[]})}return[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(4),u=n(19),i=r(u),l=n(9),s=n(16),c=n(17),f=function(e,t){var n={entity:{id:e.id,entityType:{name:e.type}},axes:t.reduce(function(e,t){return(0,l.equalIgnoreCase)(t.name,"customfields")?e.concat(t.value.map(function(e){return{type:"customfield",customFieldName:e.name,targetValue:e.value}})):(0,l.isStateRelated)(t.name)?e.concat({type:(0,l.lc)(t.name),targetValue:t.value}):e},[])};return(0,a.when)((0,c.createRequirementsByTasks)(n)).then(function(e){return[n].concat(e)})},p=function(e){return(0,a.whenList)(e.map(function(e){return f(e,e.changes)})).then(function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return(0,o.flatten)(t)})};t["default"]=(0,s.createInterrupter)({systemInterrupter:new i["default"],getEntitiesFromChanges:p})},function(e,t){e.exports=a},function(e,t){e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(22),a=r(o);t["default"]=a["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{!r&&i["return"]&&i["return"]()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var f=n(20),p=r(f),d=n(5),y=n(4),m=n(23),h=r(m),v=n(11),g=r(v),b=n(12),O=r(b),w=n(29),j=n(10),_=n(9),P=n(30),x=r(P),C=function(e,t){return O["default"].get("CustomField",{take:1e3,where:"process.id == "+(e||"null")+" and entityType.id == "+t.entityType.id,select:"new(required, name, id, config, fieldType, value, entityType, process)"})},T=function(e,t){var n=e.customFields,r=(0,d.find)(n,function(e){return(0,_.equalIgnoreCase)(e.name,t.name)});return r?(0,w.transformFromServerFieldValue)(t,r.value):null},E=function(e,t){var n=T(e,t);return(0,w.isEmptyInitialValue)(t,n)?t.config.defaultValue:n},k=function(e,t,n){var r=n.name,o=E(e,n),a=(0,d.has)(t,n.name),u=t[n.name],i=a?u:o,l=(0,w.validateFieldValue)(n,i),s=Boolean(l.length);return{name:r,field:n,hasDirtyValue:a,hasErrors:s,validationErrors:l,value:i}},F=function(e){return(0,_.isGeneral)(e)?g["default"].get("General",e.id,{include:["Name","EntityType",{Project:[{Process:["Id"]}]},"CustomFields"]}):(0,_.isUser)(e)?g["default"].get("User",e.id,{include:["FirstName","LastName","CustomFields"]}).then(function(t){return c({},e,{name:t.firstName+" "+t.lastName,res:t})}):void 0},S=function(e){return(0,d.object)(e.map(function(e){return[e.name,e.config.defaultValue]}))},I=function(e,t){return(0,d.object)(e.map(function(e){return[e,T(t,e)]}).filter(function(e){var t=s(e,2),n=t[0],r=t[1];return!(0,w.isEmptyInitialValue)(n,r)}).map(function(e){var t=s(e,2),n=t[0],r=t[1];return[n.name,r]}))},N=function(e){return e.project?e.project.process.id:null},M=function(e,t,n,r,o,a){var u=[{id:r}],i=c({},S(a),o),l=(0,d.object)(a.map(function(e){return[e.name,(0,w.sanitizeFieldValue)(e,i[e.name])]})),s=I(a,n);return(0,y.when)((0,j.getCustomFieldsForAxes)(e,t,u,n,l,{},s)).then(function(e){return e.map(w.transformFieldFromServer).map(function(e){return k(n,o,e)})})},R=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),f=0;l>f;f++)s[f]=arguments[f];return n=r=u(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={isLoading:!0,onAfterSave:d.noop,onCancel:d.noop,entityCustomFields:[],outputCustomFields:[],values:{}},r.handleSubmit=function(e){var t=r.props.entity,n=e.every(function(e){var t=e.field,n=e.value;return!(0,w.validateFieldValue)(t,(0,w.sanitizeFieldValue)(t,n)).length});if(n){var o={customFields:e.map(function(e){var t=e.field,n=e.value,r=e.name;return{name:r,value:(0,w.transformToServerFieldValue)(t,(0,w.sanitizeFieldValue)(t,n))}})};r.setState(c({},r.state,{isSaving:!0})),g["default"].save(t.entityType.name,t.id,o).then(function(){return r.setState(c({},r.state,{isSaving:!1}))}).then(r.props.onAfterSave).fail(function(e){var t=e.responseJSON;t&&t.Message?r.setState(c({},r.state,{globalError:t.Message,isSaving:!1})):r.setState(c({},r.state,{globalError:"Error while saving",isSaving:!1}))})}},r.handleChange=function(e,t){var n=c({},r.state.values,o({},e.name,t)),a=r.props,u=a.mashupConfig,i=a.changes,l=r.state,s=l.entity,f=l.processId,p=l.entityCustomFields;(0,y.when)(M(u,i,s,f,n,p)).then(function(e){r.setState({outputCustomFields:e,values:n})})},i=n,u(r,i)}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;j.getCustomFieldsForAxes.resetCache();var t=this.props,n=t.entity,r=t.changes,o=t.mashupConfig,a=this.state.values;return r.length?void(0,y.when)(F(n)).then(function(t){var n=N(t);(0,y.when)(C(n,t)).then(function(u){var i=u.map(function(e){return(0,w.transformFieldFromServer)(e)});return e.setState({processId:n,entityCustomFields:i,entity:t}),M(o,r,t,n,a,i)}).then(function(t){t.length?e.setState({outputCustomFields:t,isLoading:!1}):e.props.onAfterSave()})}):null}},{key:"render",value:function(){var e=this.props.changes,t=this.state,n=t.isLoading,r=t.isSaving,o=t.globalError,a=t.outputCustomFields,u=t.entity;return e.length?n?null:a.length?p["default"].createElement(h["default"],{onClose:this.props.onCancel},p["default"].createElement(x["default"],{entity:u,fields:a,globalError:o,onChange:this.handleChange,onSubmit:this.handleSubmit,showProgress:r})):null:null}}]),t}(p["default"].Component);R.propTypes={changes:f.PropTypes.array.isRequired,entity:f.PropTypes.shape({id:f.PropTypes.number.isRequired,entityType:f.PropTypes.shape({name:f.PropTypes.string.isRequired}).isRequired}).isRequired,mashupConfig:f.PropTypes.array,onAfterSave:f.PropTypes.func,onCancel:f.PropTypes.func},t["default"]=R},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){
for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),s=r(l),c=n(24),f=r(c),p=n(25),d=r(p),y=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),i(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:(0,f["default"])("ui-popup-overlay",d["default"].overlay)},s["default"].createElement("div",{className:(0,f["default"])("ui-popup",d["default"].outerpopup)},s["default"].createElement("div",{className:(0,f["default"])(d["default"].innerpopup)},s["default"].createElement("div",{className:"close",onClick:this.props.onClose}),s["default"].createElement("div",{className:(0,f["default"])(d["default"].popupcontentcrollablearea)},s["default"].createElement("div",{className:(0,f["default"])(d["default"].content)},this.props.children)))))}}]),t}(s["default"].Component);t["default"]=y},function(e,t,n){var r,o;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var u in r)a.call(r,u)&&r[u]&&e.push(u)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],o=function(){return n}.apply(t,r),!(void 0!==o&&(e.exports=o)))}()},function(e,t,n){var r=n(26);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={overlay:"_3idgxfgZU1py1KPzyqvmJC",outerpopup:"_24SCx12WS99ayjKkY4VUFE",innerpopup:"_3IhnqcBItw7p9dYjPTVfLI",popupcontentcrollablearea:"_2plNT2Z_AmwI4R89e6KFW-",content:"_3HF8nl8pZ23HhjubMXx5hK"},t.push([e.id,"._3idgxfgZU1py1KPzyqvmJC{background:rgba(33,33,33,.5);position:absolute;width:100%;height:100vh;text-align:left;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:99999}._24SCx12WS99ayjKkY4VUFE,._3IhnqcBItw7p9dYjPTVfLI{background:0 0;position:relative;flex-direction:column;display:flex}._24SCx12WS99ayjKkY4VUFE{top:0;left:0;right:0;bottom:0;padding:0;box-shadow:none;border-radius:0;z-index:0}._3IhnqcBItw7p9dYjPTVfLI{max-height:100vh;max-width:100vw;padding:15px;box-sizing:border-box}._3IhnqcBItw7p9dYjPTVfLI>.close,._3IhnqcBItw7p9dYjPTVfLI>.close:hover{top:0;right:0;float:none}._2plNT2Z_AmwI4R89e6KFW-{overflow:auto;background:#fff;border-radius:3px;box-shadow:0 1px 3px #0f0e0f;display:flex;flex-direction:column;width:530px}._3HF8nl8pZ23HhjubMXx5hK{font-family:Arial,sans-serif;font-size:12px;padding:15px 10px}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<t.length;o++){var u=t[o];"number"==typeof u[0]&&r[u[0]]||(n&&!u[2]?u[2]=n:n&&(u[2]="("+u[2]+") and ("+n+")"),e.push(u))}},e}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=f[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(i(r.parts[a],t))}else{for(var u=[],a=0;a<r.parts.length;a++)u.push(i(r.parts[a],t));f[r.id]={id:r.id,refs:1,parts:u}}}}function o(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],a=o[0],u=o[1],i=o[2],l=o[3],s={css:u,media:i,sourceMap:l};n[a]?n[a].parts.push(s):t.push(n[a]={id:a,parts:[s]})}return t}function a(){var e=document.createElement("style"),t=y();return e.type="text/css",t.appendChild(e),e}function u(){var e=document.createElement("link"),t=y();return e.rel="stylesheet",t.appendChild(e),e}function i(e,t){var n,r,o;if(t.singleton){var i=h++;n=m||(m=a()),r=l.bind(null,n,i,!1),o=l.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(),r=c.bind(null,n),o=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(),r=s.bind(null,n),o=function(){n.parentNode.removeChild(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function l(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,o);else{var a=document.createTextNode(o),u=e.childNodes;u[t]&&e.removeChild(u[t]),u.length?e.insertBefore(a,u[t]):e.appendChild(a)}}function s(e,t){var n=t.css,r=t.media;t.sourceMap;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function c(e,t){var n=t.css,r=(t.media,t.sourceMap);r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}var f={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},d=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),y=p(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,h=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=d());var n=o(e);return r(n,t),function(e){for(var a=[],u=0;u<n.length;u++){var i=n[u],l=f[i.id];l.refs--,a.push(l)}if(e){var s=o(e);r(s,t)}for(var u=0;u<a.length;u++){var l=a[u];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete f[l.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.validateFieldValue=t.isEmptyInitialValue=t.sanitizeFieldValue=t.transformToServerFieldValue=t.transformFieldFromServer=t.transformFromServerFieldValue=void 0;var o=n(5),a=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return(0,o.isString)(e)?(0,o.compact)((0,o.invoke)(e.split(/\r?\n/),"trim")):[]},u=t.transformFromServerFieldValue=function(e,t){return"multipleselectionlist"===e.type?(0,o.isString)(t)&&t?t.split(","):[]:"multipleentities"===e.type?(0,o.isString)(t)&&t?t.split(","):[]:t},i=(t.transformFieldFromServer=function(e){var t=r({},e,{type:e.fieldType.toLowerCase()});return t.config.defaultValue=u(t,t.config.defaultValue),("multipleselectionlist"===t.type||"dropdown"===t.type||"multipleentities"===t.type||"entity"===t.type)&&(t.value=a(t.value)),"multipleselectionlist"===t.type&&0===t.config.defaultValue.length&&t.value.length&&(t.config.defaultValue=[t.value[0]]),t},t.transformToServerFieldValue=function(e,t){if("multipleselectionlist"===e.type&&t)return t.join(",");if("entity"===e.type&&t){var n=t.id,r=t.entityType.name,o=t.name;return{id:n,kind:r,name:o}}return"multipleentities"===e.type&&t?t.map(function(e){return e.id+" "+e.entityType.name.toLowerCase()}).join(","):t},t.sanitizeFieldValue=function(e,t){return"url"===e.type&&t?{url:t.url.trim(),label:t.label.trim()}:"string"==typeof t?t.trim():t}),l=function(e,t){var n={text:function(e){return!e},url:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.url,n=e.label;return!t||!n},checkbox:function(e){return e!==!1&&e!==!0},multipleselectionlist:function(e){return!e.length},multipleentities:function(e){return!e.length}};return(n[e.type]||n.text)(t)?new Error("Field is empty"):void 0};t.isEmptyInitialValue=function(e,t){var n={multipleselectionlist:function(e){return!e.length},multipleentities:function(e){return!e.length},defaults:function(e){return null===e}};return(n[e.type]||n.defaults)(t)},t.validateFieldValue=function(e,t){var n=i(e,t),r=[];return[l].forEach(function(t){var o=t(e,n);o&&(r=r.concat(o))}),r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=n(31),p=r(f),d=n(69),y=r(d),m=n(47),h=r(m),v=function(e){function t(){var e,n,r,u;o(this,t);for(var l=arguments.length,s=Array(l),c=0;l>c;c++)s[c]=arguments[c];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handleSubmit=function(e){e.preventDefault();var t=r.props.fields.map(function(e){return i({},e,{value:r.refs[e.name].value})});r.props.onSubmit(t)},r.handleChange=function(e,t){r.props.onChange(e,t)},u=n,a(r,u)}return u(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.entity,r=t.fields,o=t.showProgress,a=t.globalError,u=r.some(function(e){var t=e.validationErrors,n=void 0===t?[]:t;return n.length});return c["default"].createElement("div",null,c["default"].createElement(h["default"],{className:y["default"].header,entity:n}),c["default"].createElement("div",{className:y["default"].note},"Please specify the following custom fields"),a?c["default"].createElement("div",{className:y["default"].error},a):null,c["default"].createElement("form",{onSubmit:this.handleSubmit},r.map(function(t,r){return c["default"].createElement(p["default"],{autoFocus:!r,entity:n,item:t,key:t.name,onChange:e.handleChange,ref:t.name})}),c["default"].createElement("div",{className:y["default"].buttons},c["default"].createElement("button",{className:"tau-btn tau-primary",disabled:u||o||null,type:"submit"},"Save and Continue"))))}}]),t}(c["default"].Component);v.propTypes={entity:s.PropTypes.object.isRequired,fields:s.PropTypes.arrayOf(p["default"].propTypes.item),globalError:s.PropTypes.string,onChange:s.PropTypes.func,onSubmit:s.PropTypes.func,showProgress:s.PropTypes.bool,values:s.PropTypes.object},v.defaultProps={fields:[],values:{}},t["default"]=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var c=n(20),f=r(c),p=n(5),d=n(24),y=r(d),m=n(32),h=r(m),v=n(67),g=r(v),b=function(e){function t(){return a(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.entity,n=e.item,r=e.onChange,a=e.autoFocus,u=n.name,i=n.field,s=void 0===i?h["default"].defaultProps.field:i,c=n.hasDirtyValue,d=n.value,m=n.hasErrors,v=n.validationErrors,b=void 0===v?[]:v,O=s.type,w=u,j={};"checkbox"===O&&(w=""),"money"===O&&(w=w+", "+s.config.units),("entity"===O||"multipleentities"===O)&&(j={filterEntityTypeName:{$in:s.value},filterFields:t&&t.project&&t.project.id?{"project.id":t.project.id}:{}});var _=Boolean(m&&c),P=_?(0,p.pluck)(b,"message").join("\n"):null,x=p.underscored?(0,p.underscored)(u):u;return f["default"].createElement("div",{className:g["default"].block,title:P},f["default"].createElement("div",{className:g["default"].label},f["default"].createElement("label",{className:(0,y["default"])(g["default"].labeltext,o({},g["default"].labeltextrichtext,"richtext"===O)),htmlFor:x},f["default"].createElement("span",null,w)),f["default"].createElement(h["default"],l({},j,{autoFocus:a,field:s,id:x,isInvalid:_,onChange:r,ref:"input",validationErrors:b,value:d}))))}},{key:"value",get:function(){return this.refs.input.value}}]),t}(f["default"].Component);b.propTypes={autoFocus:c.PropTypes.bool,entity:c.PropTypes.object,item:c.PropTypes.shape({name:c.PropTypes.string.isRequired,field:h["default"].propTypes.field,value:c.PropTypes.any}).isRequired,onChange:c.PropTypes.func},b.defaultProps={autoFocus:!1,onChange:p.noop},t["default"]=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=n(5),p=n(33),d=r(p),y=n(34),m=r(y),h=n(38),v=r(h),g=n(39),b=r(g),O=n(50),w=r(O),j=n(51),_=r(j),P=n(53),x=r(P),C=n(60),T=r(C),E=n(52),k=r(E),F=n(63),S=r(F),I=n(66),N=r(I),M=function(e){function t(){var e,n,r,u;o(this,t);for(var i=arguments.length,l=Array(i),s=0;i>s;s++)l[s]=arguments[s];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleChange=function(){r.props.onChange(r.props.field,r.value)},r.handleBlur=function(){r.props.onChange(r.props.field,r.value)},u=n,a(r,u)}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props.field,t=e.type,n={checkbox:d["default"],date:m["default"],dropdown:v["default"],entity:b["default"],multipleselectionlist:w["default"],number:_["default"],richtext:x["default"],templatedurl:T["default"],text:k["default"],url:S["default"],multipleentities:N["default"]}[t]||k["default"];return c["default"].createElement(n,i({},this.props,{onBlur:this.handleBlur,onChange:this.handleChange,ref:"widget"}))}},{key:"value",get:function(){return this.refs.widget.value}}]),t}(c["default"].Component);M.propTypes={field:s.PropTypes.shape({type:s.PropTypes.string.isRequired}),isInvalid:s.PropTypes.bool,onChange:s.PropTypes.func,value:s.PropTypes.any},M.defaultProps={onChange:f.noop,specificProps:{},field:{type:"text"}},t["default"]=M},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.value,r=t.name;return c["default"].createElement("label",{className:"tau-checkbox"},c["default"].createElement("input",i({},this.props,{checked:n,ref:"input",type:"checkbox"})),c["default"].createElement("i",{className:"tau-checkbox__icon"}),c["default"].createElement("span",{style:{color:"#999"}},r))}},{key:"value",get:function(){return(0,s.findDOMNode)(this.refs.input).checked}}]),t}(c["default"].Component);f.propTypes={field:s.PropTypes.shape({name:s.PropTypes.string}).isRequired,value:s.PropTypes.any},t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=n(4),p=r(f),d=n(24),y=r(d),m=n(35),h=r(m),v=n(36),g=r(v),b=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"componentDidMount",value:function(){var e=(0,p["default"])((0,s.findDOMNode)(this.refs.trigger)),t=(0,p["default"])((0,s.findDOMNode)(this.refs.input));p["default"].datepicker.parseDate=function(e,t){return h["default"].parse(t)},p["default"].datepicker.formatDate=function(e,t){return h["default"].formatAs(t,e)},t.datepicker({dateFormat:h["default"].getFormatData().date["short"],onSelect:this.props.onChange}),e.on("click",function(){return t.datepicker("show")})}},{key:"render",value:function(){return c["default"].createElement("div",{className:(0,y["default"])("ui-dateeditor",g["default"].block)},c["default"].createElement("input",i({},this.props,{className:(0,y["default"])("tau-in-text",{"tau-error":this.props.isInvalid}),placeholder:" ",ref:"input",type:"text",value:this.props.value})),c["default"].createElement("span",{className:"ui-datepicker-trigger",ref:"trigger"}))}},{key:"value",get:function(){return(0,s.findDOMNode)(this.refs.input).value}}]),t}(c["default"].Component);t["default"]=b},function(e,t){e.exports=i},function(e,t,n){var r=n(37);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={block:"_3LtdTBjrx9qqH_L5AHfvap"},t.push([e.id,"._3LtdTBjrx9qqH_L5AHfvap{display:flex;align-items:center}._3LtdTBjrx9qqH_L5AHfvap>input{flex:1 1 auto;margin-left:2px;border:1px solid #acb6bf;box-shadow:none}._3LtdTBjrx9qqH_L5AHfvap>button{flex:0 0 auto}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=n(24),p=r(f),d=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.value,r=[""].concat(t.value);return c["default"].createElement("select",i({},this.props,{className:(0,p["default"])("tau-select",{"tau-error":this.props.isInvalid}),ref:"input",type:"text",value:n}),r.map(function(e,t){return c["default"].createElement("option",{key:t,value:e},e)}))}},{key:"value",get:function(){return(0,s.findDOMNode)(this.refs.input).value}}]),t}(c["default"].Component);t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=n(40),p=r(f),d=n(47),y=r(d),m=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props.value,t=void 0;return e&&(t=c["default"].createElement(y["default"],{entity:e})),c["default"].createElement(p["default"],i({},this.props,{multiple:!1,placeholder:"Click to select entity",ref:"input"}),t)}},{key:"value",get:function(){return this.refs.input.value}}]),t}(c["default"].Component);m.propTypes={value:s.PropTypes.object},m.defaultProps={value:void 0},t["default"]=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=n(24),p=r(f),d=n(4),y=r(d),m=n(5),h=n(41),v=r(h),g=n(42),b=r(g),O=n(45),w=r(O),j=function(e){function t(){var e,n,r,u;o(this,t);for(var l=arguments.length,s=Array(l),c=0;l>c;c++)s[c]=arguments[c];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={value:void 0,showFinder:!1,showFinderBubble:!1},r.handleFocus=function(){r.setState(i({},r.state,{showFinder:!r.state.showFinder})),r.state.showFinder&&r.props.onBlur()},r.handleSelect=function(e){var t=r.props.multiple;r.setState({value:t?(r.state.value||[]).concat(e):e,showFinder:t,showFinderBubble:t},function(){return r.props.onChange(e)})},r.handleClickReset=function(){r.setState({value:void 0,showFinder:!1,showFinderBubble:!1},function(){return r.props.onChange(void 0)})},r.handleClickOutsideFinder=function(e){(0,y["default"])(e.target).closest("body").length&&r.setState(i({},r.state,{showFinder:!1,showFinderBubble:!1}),function(){return r.props.onBlur()})},r.handleFinderAdjusted=function(){r.refs.bubble&&r.refs.bubble.adjust(),setTimeout(function(){r.refs.bubble&&r.refs.bubble.adjust(),r.state.showFinderBubble||r.setState(i({},r.state,{showFinderBubble:!0}))},300)},u=n,a(r,u)}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.filterEntityTypeName,n=e.filterFields,r=e.children,o=e.id,a=e.isInvalid,u=this.state,l=u.value,f=u.showFinder,d=u.showFinderBubble,y=void 0,h=void 0;f&&(y=c["default"].createElement(b["default"],{filterEntityTypeName:t,filterFields:n,onAdjust:this.handleFinderAdjusted,onRendered:this.handleFinderRendered,onSelect:this.handleSelect}),h=c["default"].createElement(v["default"],{config:{onPositionConfig:function(e){return i({},e,{at:"left middle",my:"right middle",collision:"flipfit flipfit"})}},onClickOutside:this.handleClickOutsideFinder,overlay:y,ref:"bubble",style:{visibility:d?"visible":"hidden"},target:(0,s.findDOMNode)(this.refs.trigger)}));var g=void 0;return g=r?r:c["default"].createElement("span",{className:w["default"].placeholder},this.props.placeholder),c["default"].createElement("div",i({},this.props,{className:w["default"].block,id:null,onBlur:m.noop}),c["default"].createElement("div",{className:w["default"].inputwrapper},c["default"].createElement("div",{className:(0,p["default"])("tau-in-text",{"tau-error":a},w["default"].input),id:o,onClick:this.handleFocus,ref:"trigger",tabIndex:"-1"},g),l?c["default"].createElement("button",{className:w["default"].reset,onClick:this.handleClickReset,type:"button"},c["default"].createElement("i",{className:"tau-icon-general tau-icon-close-round"})):null),h)}},{key:"value",get:function(){var e=this.state.value;return this.props.multiple?e||[]:e}}]),t}(c["default"].Component);j.propTypes={filterEntityTypeName:s.PropTypes.string,filterFields:s.PropTypes.object,multiple:s.PropTypes.bool,onBlur:s.PropTypes.func,onChange:s.PropTypes.func,placeholder:s.PropTypes.string},j.defaultProps={filterFields:{},multiple:!1,onBlur:m.noop,onChange:m.noop,placeholder:"Click to select"},t["default"]=j},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=n(4),p=r(f),d=n(5),y=function(e){function t(){var e,n,r,u;o(this,t);for(var i=arguments.length,l=Array(i),s=0;i>s;s++)l[s]=arguments[s];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleClickDocument=function(e){var t=r.props.target;e.target===c["default"].findDOMNode(t)||c["default"].findDOMNode(t).contains(e.target)||e.target===r.bubble||r.bubble.contains(e.target)||r.props.onClickOutside(e)},u=n,a(r,u)}return u(t,e),l(t,[{key:"componentDidMount",value:function(){this.span=(0,p["default"])("<span />").appendTo("body")[0],this.renderBubble(this.props.target,this.props.overlay),this.documentListener=this.handleClickDocument.bind(this),document.body.addEventListener("click",this.documentListener)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.target,n=e.target;t!==n&&((0,p["default"])(t).tauBubble("instance")&&(0,p["default"])(t).tauBubble("destroy"),this.renderBubble(n,e.overlay)),(0,p["default"])(t).tauBubble("instance")&&(0,p["default"])(t).tauBubble("widget").css(e.style)}},{key:"componentWillUnmount",value:function(){(0,p["default"])(this.props.target).tauBubble("destroy"),document.body.removeEventListener("click",this.documentListener)}},{key:"render",value:function(){return null}},{key:"renderBubble",value:function(e,t){this.bubble=(0,s.findDOMNode)(c["default"].render(t,this.span)),(0,p["default"])(e).tauBubble(i({target:e,content:this.span,showOnCreation:!0,showEvent:"none",hideEvent:"none",documentMouseEvent:"none",stackName:String(Number(new Date)),zIndex:999},this.props.config)),(0,p["default"])(e).tauBubble("widget").css(this.props.style)}},{key:"adjust",value:function(){(0,p["default"])(this.props.target).tauBubble("adjustPosition")}}]),t}(c["default"].Component);y.propTypes={config:s.PropTypes.object,onClickOutside:s.PropTypes.func.isRequired,overlay:s.PropTypes.node.isRequired,style:s.PropTypes.object,target:s.PropTypes.object.isRequired},y.defaultProps={config:{},onClickOutside:d.noop,style:{}},t["default"]=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=n(5),p=n(43),d=r(p),y=function(e){function t(){var e,n,r,u;o(this,t);for(var i=arguments.length,l=Array(i),s=0;i>s;s++)l[s]=arguments[s];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleEvents=function(e,t){
var n={entitySelected:function(e){var t=e.entity;return r.handleSelect(t)},"result.rendered":function(){return r.handleAdjust()},"content.$element.ready":function(){return r.handleAdjust()}};n[e]&&n[e](t)},r.handleSelect=function(e){return r.props.onSelect(e)},r.handleAdjust=function(){return r.props.onAdjust()},u=n,a(r,u)}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.filterEntityTypeName,n=e.filterDsl,r=e.filterFields,o={};return o.entityType=null,o.filter={entityType:t},o.filter=i({},o.filter,r),n&&(o.filter.init_dsl=n),c["default"].createElement(d["default"],{config:o,onEvents:this.handleEvents,type:"finder.entity"})}}]),t}(c["default"].Component);y.propTypes={filterDsl:s.PropTypes.string,filterEntityTypeName:s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.arrayOf(s.PropTypes.string)]),filterFields:s.PropTypes.object,onAdjust:s.PropTypes.func,onSelect:s.PropTypes.func},y.defaultProps={filterDsl:void 0,filterEntityTypeName:["project","program","release","iteration","teamiteration","testcase","testplan","build","impediment","epic","feature","userstory","task","bug","testplanrun","request"],filterFields:{},onAdjust:f.noop,onSelect:f.noop},t["default"]=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=n(5),p=n(44),d=r(p),y=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.type,r=t.config,o=t.context,a=t.onEvents,u=d["default"].create({name:"targetprocesscomponent."+n});this.bus=u,u.once("afterRender",function(t){var n=t.data.element;n.length&&(0,s.findDOMNode)(e).appendChild(n[0])}),u.once("childrenBuses.ready",function(e){var t=e.data,n=t[0];n.fire=(0,f.wrap)(n.fire.bind(n),function(e,t,n){a(t,n),e(t,n)})}),u.initialize({context:o,children:[i({},r,{type:n})]})}},{key:"componentWillUnmount",value:function(){this.bus.fire("destroy")}},{key:"render",value:function(){return c["default"].createElement("div",null)}}]),t}(c["default"].Component);y.propTypes={config:s.PropTypes.object,context:s.PropTypes.object,onEvents:s.PropTypes.func,type:s.PropTypes.string.isRequired},y.defaultProps={context:{},config:{},onEvents:f.noop},t["default"]=y},function(e,t){e.exports=l},function(e,t,n){var r=n(46);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={block:"_1WcpLYLKVnqojMgvUFGF6l",inputwrapper:"rSj95UXnSveTZLksLjrHq",input:"_22-T7ibYJ8_zCql-fR5R2l",placeholder:"_3XIHf_9K2_7pvFdHV15NfG",reset:"Q4XP5pcNmyhtp81tV3YmN"},t.push([e.id,"._1WcpLYLKVnqojMgvUFGF6l{display:flex;flex-grow:1}.rSj95UXnSveTZLksLjrHq{display:flex;align-items:center;cursor:pointer;flex-grow:1;position:relative}._22-T7ibYJ8_zCql-fR5R2l{flex-grow:1;display:flex;align-items:center;min-height:24px;height:auto;padding-right:20px;flex-wrap:wrap}._3XIHf_9K2_7pvFdHV15NfG{font-size:11px;color:#acb6bf}.Q4XP5pcNmyhtp81tV3YmN{position:absolute;right:2px;top:0;bottom:0;background:0 0;border:none;display:flex;align-items:center;justify-content:center;padding:0;margin:0 5px}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=n(24),p=r(f),d=n(48),y=r(d),m=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.entity,r=e["short"];return c["default"].createElement("span",i({},this.props,{className:(0,p["default"])("tau-linkentity",y["default"].block,t),title:r?n.name:null}),c["default"].createElement("em",{className:(0,p["default"])("tau-entity-icon","tau-entity-icon--"+n.entityType.name.toLowerCase(),"tau-linkentity__icon")},n.id),r?null:c["default"].createElement("span",{className:"tau-linkentity__inner"},n.name))}}]),t}(c["default"].Component);m.propTypes={className:s.PropTypes.string,entity:s.PropTypes.shape({id:s.PropTypes.number.isRequired,name:s.PropTypes.string,entityType:s.PropTypes.shape({name:s.PropTypes.string.isRequired}).isRequired}).isRequired,"short":s.PropTypes.bool},m.defaultProps={"short":!1},t["default"]=m},function(e,t,n){var r=n(49);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={block:"_2JMvi-38cNXWX1m3k81H5s"},t.push([e.id,"._2JMvi-38cNXWX1m3k81H5s{display:flex;align-items:baseline;margin-bottom:1px}._2JMvi-38cNXWX1m3k81H5s>.tau-linkentity__icon{flex:0 0 auto}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=n(4),p=r(f),d=n(24),y=r(d),m=function(e){function t(){var e,n,r,u;o(this,t);for(var i=arguments.length,l=Array(i),s=0;i>s;s++)l[s]=arguments[s];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleFocus=function(e){setTimeout(function(){return r.props.onChange(e)},0)},u=n,a(r,u)}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.value,r=t.value;return c["default"].createElement("select",i({},this.props,{className:(0,y["default"])("tau-select",{"tau-error":this.props.isInvalid}),multiple:!0,onFocus:this.handleFocus,ref:"input",type:"text",value:n}),r.map(function(e,t){return c["default"].createElement("option",{key:t,value:e},e)}))}},{key:"value",get:function(){return(0,p["default"])((0,s.findDOMNode)(this.refs.input)).val()||[]}}]),t}(c["default"].Component);m.defaultProps={value:[]},t["default"]=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=n(52),p=r(f),d=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){return c["default"].createElement(p["default"],i({},this.props,{ref:"input"}))}},{key:"value",get:function(){return(0,s.findDOMNode)(this.refs.input).value}}]),t}(c["default"].Component);t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=n(24),p=r(f),d=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){return c["default"].createElement("input",i({placeholder:" ",ref:"input",type:"text"},this.props,{className:(0,p["default"])("tau-in-text",{"tau-error":this.props.isInvalid})}))}},{key:"value",get:function(){return(0,s.findDOMNode)(this.refs.input).value}}]),t}(c["default"].Component);t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=n(54),p=r(f),d=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){return c["default"].createElement(p["default"],i({},this.props,{ref:"input"}))}},{key:"value",get:function(){return this.refs.input.value}}]),t}(c["default"].Component);t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=n(4),p=r(f),d=n(5),y=n(7),m=r(y),h=n(55),v=r(h),g=n(58),b=r(g),O=function(e){function t(){var e,n,r,u;o(this,t);for(var i=arguments.length,l=Array(i),s=0;i>s;s++)l[s]=arguments[s];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={canApplyRicheditor:Boolean(p["default"].ui.richeditor)},u=n,a(r,u)}return u(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;if(!this.state.canApplyRicheditor)return null;var t=(0,p["default"])((0,s.findDOMNode)(this.refs.input.textarea));t.richeditor({ckPath:m["default"].getCkPath(),settings:{toolbar:"Basic",toolbarStartupExpanded:!0,toolbarCanCollapse:!1,startupFocus:this.props.autoFocus,uploaderConfig:{uploadFiles:null},baseFloatZIndex:1e5},saveAction:{available:!1},cancelAction:{available:!1}}),t.richeditor("show"),t.on("richeditorchange",this.props.onChange);var n=function r(){t.richeditor("instance").editor?t.richeditor("instance").editor.on("blur",e.props.onBlur):setTimeout(r,100)};n()}},{key:"componentWillUnmount",value:function(){if(!this.state.canApplyRicheditor)return null;var e=(0,p["default"])((0,s.findDOMNode)(this.refs.input.textarea));e.richeditor("destroy")}},{key:"render",value:function(){return c["default"].createElement(v["default"],i({},(0,d.omit)(this.props,"onBlur","onChange"),{className:b["default"].block,ref:"input"}))}},{key:"value",get:function(){return this.state.canApplyRicheditor?(0,p["default"])((0,s.findDOMNode)(this.refs.input.textarea)).richeditor("getText"):this.refs.input.value}}]),t}(c["default"].Component);t["default"]=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=n(24),p=r(f),d=n(56),y=r(d),m=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){return c["default"].createElement("div",{className:(0,p["default"])(y["default"].block,{"tau-error":this.props.isInvalid},this.props.className)},c["default"].createElement("textarea",i({placeholder:" ",ref:"input"},this.props,{className:(0,p["default"])("tau-in-text",y["default"].textarea,{"tau-error":this.props.isInvalid})})))}},{key:"value",get:function(){return(0,s.findDOMNode)(this.textarea).value}},{key:"textarea",get:function(){return this.refs.input}}]),t}(c["default"].Component);t["default"]=m},function(e,t,n){var r=n(57);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={block:"_1OX9xfRIRp-lkD0uoT3dyi",textarea:"_2zjKsiitB0L2WQ1gGoj7sq"},t.push([e.id,"._1OX9xfRIRp-lkD0uoT3dyi{flex-grow:1;display:flex;flex-direction:column;margin:0 2px}._2zjKsiitB0L2WQ1gGoj7sq._2zjKsiitB0L2WQ1gGoj7sq{flex:1 1 auto;width:100%;height:6em;margin:0;resize:vertical}",""])},function(e,t,n){var r=n(59);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={block:"vC7Tm0eWuIJj0DwwpD2yx"},t.push([e.id,".vC7Tm0eWuIJj0DwwpD2yx.tau-error .cke{border-color:#f66}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{!r&&i["return"]&&i["return"]()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var c=n(20),f=r(c),p=n(52),d=r(p),y=n(61),m=r(y),h=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props.field,t=e.value,n=t.split("{0}"),r=l(n,2),o=r[0],a=r[1];return f["default"].createElement("div",{className:m["default"].block},o?f["default"].createElement("span",{className:m["default"].template},o):null,f["default"].createElement(d["default"],i({},this.props,{ref:"input"})),a?f["default"].createElement("span",{className:m["default"].template},a):null)}},{key:"value",get:function(){return(0,c.findDOMNode)(this.refs.input).value}}]),t}(f["default"].Component);t["default"]=h},function(e,t,n){var r=n(62);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={block:"_1x9LGMXr05E_QMtU9X9vI6",template:"_1RJV84eHeFNXAdIKsQciUv"},t.push([e.id,"._1x9LGMXr05E_QMtU9X9vI6{flex:1 1 auto;display:flex;align-items:baseline}._1x9LGMXr05E_QMtU9X9vI6>input{flex:1 1 auto}._1RJV84eHeFNXAdIKsQciUv{font-style:italic;flex:0 0 auto}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=n(24),p=r(f),d=n(64),y=r(d),m=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props.value;return c["default"].createElement("div",{className:y["default"].block},c["default"].createElement("div",{className:y["default"].row},c["default"].createElement("label",{className:y["default"].label},c["default"].createElement("span",{className:y["default"].labeltext},"Url"),c["default"].createElement("input",i({},this.props,{className:(0,p["default"])("tau-in-text",{"tau-error":this.props.isInvalid}),ref:"url",type:"text",value:e.url})))),c["default"].createElement("div",{className:y["default"].row},c["default"].createElement("label",{className:y["default"].label},c["default"].createElement("span",{className:y["default"].labeltext},"Description"),c["default"].createElement("input",i({},this.props,{className:(0,p["default"])("tau-in-text",{"tau-error":this.props.isInvalid}),ref:"label",type:"text",value:e.label})))))}},{key:"value",get:function(){return{url:(0,s.findDOMNode)(this.refs.url).value,label:(0,s.findDOMNode)(this.refs.label).value}}}]),t}(c["default"].Component);m.defaultProps={value:{url:void 0,label:void 0}},t["default"]=m},function(e,t,n){var r=n(65);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={block:"_1eUDFC08SWC5giTMlqtN4-",row:"_3FKe1bTEPBkiG-yeaQab5p",label:"_3WSPbnC7NN1qIY0UZLuYtA",labeltext:"_15HXgIUbNO4y9arvCyclsj"},t.push([e.id,"._1eUDFC08SWC5giTMlqtN4-{flex:1 1 0}._3FKe1bTEPBkiG-yeaQab5p+._3FKe1bTEPBkiG-yeaQab5p{margin-top:5px}._3WSPbnC7NN1qIY0UZLuYtA{display:flex;align-items:baseline}._3WSPbnC7NN1qIY0UZLuYtA>input,._3WSPbnC7NN1qIY0UZLuYtA>select{flex:1 1 auto}._15HXgIUbNO4y9arvCyclsj{flex:0 0 100px;color:#999};",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),c=r(s),f=n(40),p=r(f),d=n(47),y=r(d),m=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props.value,t=void 0;return e.length&&(t=e.map(function(e){return c["default"].createElement(y["default"],{entity:e,key:e.id,"short":!0})})),c["default"].createElement(p["default"],i({},this.props,{multiple:!0,placeholder:"Click to select entities",ref:"input"}),t)}},{key:"value",get:function(){return this.refs.input.value}}]),t}(c["default"].Component);m.propTypes={value:s.PropTypes.array},m.defaultProps={value:[]},t["default"]=m},function(e,t,n){var r=n(68);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={block:"_1nJnaHCxDu7S63Y0g7Q3Yq",label:"_2jIs91_VS0ur_GOc-oP4LS",labeltext:"_3JK7uTIFYzIDu-B-i62U-0",labeltextrichtext:"C6r1CZlV7oF7h9BExBj6",sublabeltext:"_19-np2b6V2TAl_HCxBCWyz"},t.push([e.id,"._1nJnaHCxDu7S63Y0g7Q3Yq{margin-bottom:5px;margin-left:10px}._2jIs91_VS0ur_GOc-oP4LS{display:flex;align-items:baseline}._2jIs91_VS0ur_GOc-oP4LS>.tau-in-text,._2jIs91_VS0ur_GOc-oP4LS>.ui-dateeditor,._2jIs91_VS0ur_GOc-oP4LS>input,._2jIs91_VS0ur_GOc-oP4LS>select,._2jIs91_VS0ur_GOc-oP4LS>textarea{flex:1 1 auto;min-width:10px}._3JK7uTIFYzIDu-B-i62U-0{flex:0 0 100px;color:#999}.C6r1CZlV7oF7h9BExBj6{align-self:flex-start;position:relative;top:.5em}._19-np2b6V2TAl_HCxBCWyz{margin-top:3px;font-size:11px}",""])},function(e,t,n){var r=n(70);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={header:"_1FSLQK58Wv1JuaCy3rCn5C",note:"_-c7IHrP8Xxt9QG4dCriQ3",error:"chRnK4FzwIIBDPRSgseIZ",buttons:"_3-oCuRoqCs196g2SH94bg8"},t.push([e.id,"._1FSLQK58Wv1JuaCy3rCn5C{margin-bottom:10px;font-size:14px}._-c7IHrP8Xxt9QG4dCriQ3,.chRnK4FzwIIBDPRSgseIZ{padding:10px;background-color:#FFFFE1;margin-bottom:5px}._-c7IHrP8Xxt9QG4dCriQ3{color:#606B73}.chRnK4FzwIIBDPRSgseIZ{color:#f66}._3-oCuRoqCs196g2SH94bg8{margin-left:8px;margin-top:10px}",""])},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t){e.exports=f},function(e,t){e.exports=p},function(e,t){e.exports=d},function(e,t){e.exports=y},function(e,t){e.exports=m},function(e,t){e.exports=h},function(e,t){e.exports=v},function(e,t){e.exports=g},function(e,t){e.exports=b},function(e,t){e.exports=O},function(e,t){e.exports=w},function(e,t){e.exports=j}])})}();
