tau.mashups.addModule("CustomFieldConstraints/config", [
    {
        "processId": 4,
        "constraints": {
            "userstory": {
                "entityStates": [
                    {
                        "name": "Open",
                        "requiredCustomFields": [
                            "Cf1",
                            "Cf3"
                        ]
                    }
                ],
                "customFields": [
                    {
                        "name": "Cf1",
                        "valueIn": [
                            "Cf1ValueThatRequiresCf2"
                        ],
                        "requiredCustomFields": [
                            "Cf2"
                        ]
                    },
                    {
                        "name": "Cf3",
                        "valueIn": [
                            "Cf3ValueThatRequiresCf4"
                        ],
                        "requiredCustomFields": [
                            "Cf4"
                        ]
                    }
                ]
            },
            "task": {
                "entityStates": [
                    {
                        "name": "Done",
                        "requiredCustomFields": [
                            "Cf1"
                        ]
                    }
                ]
            },
            "project": {
                "customFields": [
                    {
                        "name": "Cf1",
                        "valueNotIn": [
                            "Cf1ValueThatDoesNotRequireCf2"
                        ],
                        "requiredCustomFields": [
                            "Cf2"
                        ]
                    }
                ]
            }
        }
    },
    {
        "constraints": {
            "user": {
                "entityStates": [
                    {
                        "name": "Open",
                        "requiredCustomFields": [
                            "Age"
                        ]
                    }
                ],
                "customFields": [
                    {
                        "name": "Age",
                        "requiredCustomFields": [
                            "Height"
                        ]
                    }
                ]
            }
        }
    }
]);
/*! v1.0.0 Build Fri Feb 12 2016 17:12:05 GMT+0300 (MSK) */
!function(){var e={},t=function(){var t,n,r,o=Array.prototype.slice.call(arguments,0);"string"==typeof o[0]?(r=o[0],t=o[1],n=o[2]):Array.isArray(o[0])&&(t=o[0],n=o[1]);var a=t.reduce(function(e,t){return e.addDependency(t)},tau.mashups);return a=a.addDependency(r+"/config"),a=a.addMashup(function(){var o=Array.prototype.slice.call(arguments,0);if(t.length>0&&1===o.length)throw new Error("Can't properly load dependencies for mashup \""+r+'", mashup is stopped.');return e.variables=o[o.length-1],o.length-t.length===2?e.config=o[o.length-2]:e.config={},Object.freeze&&(Object.freeze(e.variables),Object.freeze(e.config),Object.freeze(e)),n.apply(null,o)})};t("CustomFieldConstraints",["jQuery","Underscore","tau/configurator","tp3/mashups/sliceinterrupter","tp3/mashups/storage","react","tau/utils/utils.date","tau/components/component.container","tau/components/component.creator","tau/service.container","tau/services/service.navigator","tau/services/service.applicationContext","tau/components/component.application.generic","tau/ui/extensions/application.generic/ui.extension.application.generic.placeholder","tau/components/component.page.base","tau/core/class","tau/core/extension.base","tau/core/bus.reg","tau/core/templates-factory","tau/core/view-base","tau/services/service.customFields.cached","tau/libs/store2/store2"],function(t,n,r,o,a,u,i,s,l,c,f,p,d,y,m,h,v,g,b,O,w,j){return function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=t,n.c=r,n.p="",n.p=e.variables?e.variables.mashupPath:n.p,n(0)}([function(e,t,n){n(2),n(20),n(7),n(34),n(43),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(81),n(82),n(19),n(83),n(84),n(85),e.exports=n(86)},,function(t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var a=r(3),u=o(a),i=r(14),s=o(i),l=r(18),c=o(l),f=e.variables.placeholderId,p=e.config,d=function(e,t){var n=e.entity,o=e.axes,a=e.replaceCustomFieldValueInChanges;!function(){var e=r(20),u=r(21)["default"],i=document.getElementById(f).appendChild(document.createElement("div")),s=function(){e.unmountComponentAtNode(i),t.reject({response:{Message:"The changes were not saved as you didn't fill out the required custom fields"},status:400})},l=function(){e.unmountComponentAtNode(i),t.resolve()};e.render(e.createElement(u,{changes:o,entity:n,mashupConfig:p,onAfterSave:l,onCancel:s,replaceCustomFieldValueInChanges:a}),i)}(r)},y=function(){d.apply(void 0,arguments)},m=function(){(0,s["default"])(p,y),(0,c["default"])(p,y),(0,u["default"])(p)};setTimeout(m,100)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),u=r(a),i=n(5),s=n(6),l=n(8),c=r(l),f=n(9),p=n(10),d=r(p),y=n(11),m=function(e){return d["default"].get("Projects",e,{include:["Process"]})},h=function(e,t,n){var r=function(e){var t=e.data.element,r=this;n(t,r)};e.getComponentBusRegistry().getByName(t).then(function(e){e.on("afterRender",r,null,null,9999)})},v=function(e){return{type:"CustomField",config:e.config,caption:e.name,fieldType:e.fieldType,processId:e.process?e.process.id:null,required:!0,options:o({},e)}},g=["afterInit:last","before_dataBind"],b=function(e,t){return(0,s.addBusListener)(e,g.join(" + "),function(e){e.before_dataBind.suspendMain();var n=e.afterInit.data,r=e.before_dataBind.data,o=e["settings.ready"]?e["settings.ready"].data:void 0,a=function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];t.forEach(function(e){return r.types[e.entityType.name].template.items.push(v(e))}),e.before_dataBind.resumeMain()},u=n.config.context.configurator;t(a,u,n,r,o)})},O=function(e){var t=e.config;return t.options&&t.options.slice?t.options.slice.config.definition:null},w=function(e,t){var n=e.config;return(0,c["default"])(n.options.action?n.options.action[t]:(0,i.last)(n.options.path))},j=function(e,t){if(t.types)return(0,i.map)(t.types,function(e){return{name:e.entityType.name}});if(e.addAction)return e.addAction.data.types.map(function(e){return{name:e.name}});var n=O(e);return n?n.cells.types.map(function(e){return{name:e.type}}):[]},_=function(e,t){var n=[{type:"entitystate",targetValue:"_Initial"}],r=O(e),o=["x","y"].reduce(function(t,n){var o=r?r[n]:null;if(!o)return t;if((0,f.inValues)(o.types,"entitystate"))return t.concat({type:"entitystate",targetValue:w(e,n)});if((0,f.inValues)(o.types,"project"))return t.concat({type:"project",targetValue:w(e,n)});var a=(0,i.find)(o.types,function(e){return e.match(f.SLICE_CUSTOMFIELD_PREFIX)});return a?t.concat({type:"customfield",customFieldName:a.replace(f.SLICE_CUSTOMFIELD_PREFIX,""),targetValue:w(e,n)}):t},[]);return(0,f.isAssignable)({entityType:t})?(0,i.unique)(o.concat(n),function(e){return e.type}):o},P=function(e,t){var n=e.getApplicationContextService(),r=new a.Deferred;return n.getApplicationContext(t,{success:r.resolve}),r.promise()},C=function(e){var t=e.getAppStateStore();return(0,a.when)(t.get({fields:["acid"]})).then(function(t){var n=t.acid;return P(e,{acid:n})}).then(function(e){var t=e.processes;return t})},T=function(e,t){return e.find("[data-iscf=true][data-fieldname="+t+"]")},x=function(e){e.parent().removeClass("show"),e.parent().addClass("hide"),e.parent().find("input, select").toArray().forEach(function(e){return(0,u["default"])(e).data("validate").rules=(0,i.without)((0,u["default"])(e).data("validate").rules,"required")})},E=function(e){e.parent().addClass("show"),e.parent().removeClass("hide"),e.parent().find("input, select").toArray().forEach(function(e){return(0,u["default"])(e).data("validate").rules=(0,u["default"])(e).data("validate").rules.concat("required")})},k=function(e,t,n){t.forEach(function(t){return x(T(e,t.name))}),n.forEach(function(t){return E(T(e,t.name))})},F=function(e,t){return(0,i.object)(t.map(function(t){return[t.name,T(e,t.name).val()]}))},S=function(e,t){return(0,u["default"])(e.find(".tau-control-set").toArray().filter(function(e){return(0,f.equalIgnoreCase)((0,u["default"])(e).data("type"),t.name)}))},I=function(e,t,n){return t.map(function(t){return T(e,t.name).on("change, input",(0,i.compose)(n,(0,i.constant)(void 0)))})},N=function(e){var t=e.find(".project");if(!t.length)return null;var n=t.val(),r=parseInt(t.children().filter("[value="+n+"]").data("option").processId,10);return{id:r}},M=function(e,t){return e.find(".project").on("change, input",function(){setTimeout(function(){return t(N(e))},1)})},R=function(e,t,n,r,o,u,s){var l=[],c=[],f={};h(e,t,function(e,t){var o=S(e,u),s=function(){return t.fire("adjustPosition")},p=(0,i.memoize)(function(){var e=N(o);if(null!==e)return e;var t=(0,i.find)(r,function(e){return"project"===e.type});return t?(0,a.when)(m(t.targetValue)).then(function(e){return e.process}).fail(function(){return null}):null}),d=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return e?(0,a.when)((0,y.getCustomFieldsForAxes)(n,r,[e],{entityType:u},t,{skipValuesCheck:!1})).then(function(e){c=e,k(o,l,c)}).then(s):(0,a.when)(k(o,l,[])).then(s)};setTimeout(function(){return(0,a.when)(p()).then(d)},1),I(o,l,function(){f=F(o,c),(0,a.when)(p()).then(function(e){return d(e,f)})}),M(o,function(e){return d([e],f)})}),(0,a.when)((0,y.getCustomFieldsForAxes)(n,r,o,{entityType:u},{},{skipValuesCheck:!0})).then(function(e){l=e}).then(function(){return s(l)}).fail(function(){return s([])})},q=function(e,t){var n=t.busName;return b(n,function(t,r,o,u){y.getCustomFieldsForAxes.resetCache();var s=j(o,u);(0,a.when)(C(r)).then(function(u){return(0,a.whenList)(s.map(function(t){var i=new a.Deferred,s=_(o,t);return s.length?R(r,n,e,s,u,t,i.resolve):i.resolve([]),i.promise()})).then(function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];return t((0,i.flatten)(n))})}).fail(function(){return t()})})};t["default"]=function(e){var t="board plus quick add general",n="board plus quick add cells",r="board axis quick add",o="board.cell.quick.add",a="relations-quick-add-general",u="entity quick add",i=[{busName:t},{busName:n},{busName:r},{busName:o},{busName:a},{busName:u}];i.forEach(function(t){q(e,t)})}},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){"use strict";var r=n(7),o=r.getBusRegistry(),a=function(e){return function(){e.apply(null,Array.prototype.slice.call(arguments).slice(1))}},u=function(e,t,n,r){var u=a(function(o){var a=o.bus;a.name===e&&a[r?"once":"on"](t,n)}),i=o.addEventListener("create",u);return o.addEventListener("destroy",a(function(r){var o=r.bus;o.name===e&&o.removeListener(t,n,i)})),{remove:function(){o.removeListener("create",u,i),o.getBusRegistry().getByName(e).then(function(e){e.removeListener(t,n,i)})}}},i=function(e,t,n){return u(e,t,n,!0)};e.exports={addBusListener:u,addBusListenerOnce:i}},function(e,t){e.exports=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t,n,r={},o=[],a="",u=String.fromCharCode,i=[[65,91],[97,123],[48,58],[43,44],[47,48]];for(n in i)for(t=i[n][0];t<i[n][1];t++)o.push(u(t));for(t=0;64>t;t++)r[o[t]]=t;for(t=0;t<e.length;t+=72){var s,l,c=0,f=0,p=e.substring(t,t+72);for(l=0;l<p.length;l++)for(s=r[p.charAt(l)],c=(c<<6)+s,f+=6;f>=8;)a+=u((c>>>(f-=8))%256)}return a.replace(/[^\w\s]/gi,"")};t["default"]=function(e){if(0!==e.indexOf("b64_"))return e;var t=e;return t=t.replace(/_0/g,"+"),t=t.replace(/_1/g,"/"),t=t.replace(/_2/g,"="),t=t.substring(4,t.length-1),n(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStateRelated=t.SLICE_CUSTOMFIELD_PREFIX=t.getEntityTypesNamesFromConfig=t.isUser=t.isAssignable=t.isGeneral=t.inValues=t.equalByShortcut=t.equalIgnoreCase=t.lc=void 0;var r=n(5),o=t.lc=function(e){return e.toLowerCase()},a=t.equalIgnoreCase=function(e,t){return o(String(e))===o(String(t))},u=(t.equalByShortcut=function(e,t){return{_initial:t.isInitial,_final:t.isFinal,_planned:t.isPlanned}[o(e)]||!1},t.inValues=function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return(0,r.isArray)(t)?t.some(function(t){return e.some(function(e){return a(t,e)})}):e.some(function(e){return a(e,t)})});t.isGeneral=function(e){return u(["General","Assignable","InboundAssignable","OutboundAssignable","Epic","Feature","UserStory","Task","Bug","TestPlan","TestPlanRun","Request","Project","Program","Release","Iteration","TeamIteration","Team","TestCase","Build","Impediment"],e.entityType.name)},t.isAssignable=function(e){return u(["Assignable","InboundAssignable","OutboundAssignable","Epic","Feature","UserStory","Task","Bug","TestPlan","TestPlanRun","Request"],e.entityType.name)},t.isUser=function(e){return u(["GeneralUser","User","Requester"],e.entityType.name)},t.getEntityTypesNamesFromConfig=function(e){return(0,r.unique)(e.reduce(function(e,t){return e.concat(Object.keys(t.constraints))},[]))},t.SLICE_CUSTOMFIELD_PREFIX=/^ddl(multipleselectionlist)?/,t.isStateRelated=function(e){return u(["entitystate","assignedteams","teamentitystate"],e)}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=n(4),u=n(5),i=n(7),s=i.getStore().getTypes().getDictionary(),l=i.getApplicationPath(),c=function v(e){var t="";return e&&(Array.isArray(e)?t=e.map(v).join(","):"object"===("undefined"==typeof e?"undefined":o(e))?t=Object.keys(e).map(function(t){return t+"["+v(e[t])+"]"}).join(","):"function"!=typeof e&&(t=String(e))),t},f=function(e){return s[e.toLowerCase()].resource},p=function(e,t,n){return a.ajax({type:e,url:l+"/api/v1/"+t,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(n)})},d=function(e,t,n){return a.ajax({type:e,url:l+"/api/v1/"+t,contentType:"application/json; charset=utf-8",dataType:"json",data:n})},y=function(e,t){var n=function r(e,t){return d("get",e,t).then(function(e){var t=e.Items;return e.Next?r(e.Next).then(t.concat.bind(t)):t})};return n(e,t)},m=function g(e){return u.isArray(e)?e.map(function(e){return g(e)}):u.isObject(e)?u.object(u.map(e,function(e,t){var n=t[0].toLowerCase()+t.slice(1);return"Items"===n&&u.isArray(e)?g(e):[n,g(e)]})):e},h=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{take:1e3}:arguments[1],n=r({},t,e);return e.include&&"string"!=typeof e.include&&(n.include="["+c(e.include)+"]"),n};e.exports={get:function(){var e=Array.prototype.slice.call(arguments);return 3===e.length?d("GET",f(e[0])+"/"+e[1],h(e[2])).then(m):y(e[0],h(e[1],{take:1e3})).then(m)},remove:function(e,t){return d("DELETE",f(e)+"/"+t)},create:function(e,t){return p("POST",f(e),t)},save:function(e,t,n){return p("POST",f(e)+"/"+t,n)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomFieldsForAxes=void 0;var i=n(4),s=n(5),l=n(9),c=n(10),f=r(c),p=n(12),d=r(p),y=n(13),m=function(e,t){return e.reduce(function(e,n){var r=(0,s.find)(t,function(e){return(0,l.equalIgnoreCase)(e.name,n)});return r?e.concat(r):e},[])},h=(0,s.memoize)(function(e,t){return(0,l.isGeneral)({entityType:t})?d["default"].get("CustomField",{take:1e3,where:"process.id == "+e+' and entityType.name == "'+t.name+'"',select:"new(required, name, id, config, fieldType, value, entityType, process)"}):d["default"].get("CustomField",{take:1e3,where:'process.id == null and entityType.name == "'+t.name+'"',select:"new(required, name, id, config, fieldType, value, entityType, process)"})}),v=function(e,t,n){return e.length?(0,i.when)(h(t,n)).then(function(t){return m(e,t)}):[]},g=(0,s.memoize)(function(e){return f["default"].get("EntityStates",{include:[{workflow:["id"]},{process:["id"]},{entityType:["name"]},"name","isInitial","isFinal","isPlanned",{subEntityStates:["id","name",{workflow:["id"]},"isInitial","isFinal","isPlanned"]}],where:"Process.Id in ("+e+")"})}),b=function(e,t,n){return(0,l.equalIgnoreCase)(n.entityType.name,t.name)&&((0,l.equalIgnoreCase)(e,n.name)||(0,l.equalByShortcut)(e,n))},O=function(e,t,n){var r=(0,s.partial)(b,e,t);return r(n)||n.subEntityStates.items.some(r)},w=function(e,t,n){return(0,i.when)(g(t)).then(function(t){return e.id?(0,s.find)(t,function(t){return t.id===e.id}):(0,s.find)(t,function(t){return b(e,n,t)})})},j=function(e,t,n){return(0,i.when)(v([e],t,n)).then(function(e){return e.length?e[0]:null})},_=(0,s.memoize)(function(e){return f["default"].get(e.entityType.name,e.id,{include:[{project:{process:["id"],teamProjects:["id"]},assignedTeams:["id",{team:["id"]}]}]})}),P=(0,s.memoize)(function(e){return e.length?f["default"].get("TeamProjects",{include:[{team:["id"]},{project:["id"]},{workflows:["id","name",{entityType:["name"]},{parentWorkflow:["id"]}]}],where:"id in ("+e.join(",")+")"}):[]}),C=function(e,t,n){if(e.id)return w(e,t,n.entityType);if(!(0,l.isAssignable)(n))return null;var r=n.entityType;return(0,i.when)(g(t),_(n)).then(function(e,t){var n=t.project?t.project.teamProjects.items:[],r=t.assignedTeams.items,o=t.project;return(0,i.when)(e,r,o,P((0,s.pluck)(n,"id")))}).then(function(t,o,a,u){var i=o.reduce(function(e,t){var r=t.team,o=(0,s.find)(u,function(e){return e.project.id===a.id&&e.team.id===r.id});if(!o)return e;var i=o.workflows.items.find(function(e){return(0,l.equalIgnoreCase)(e.entityType.name,n.entityType.name)});return i?e.concat(i):e},[]),c=(0,s.pluck)(i,"id");return t.find(function(t){return(0,l.inValues)(c,t.workflow.id)&&O(e,r,t)})})},T=function(e,t,n,r){return"entitystate"===e.type?w(t,n,r.entityType):"customfield"===e.type?j(e.customFieldName,n,r.entityType):"assignedteams"===e.type||"teamentitystate"===e.type?C(t,n,r):void 0},x=function(e,t,n,r){var a=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],c=arguments.length<=5||void 0===arguments[5]?{skipValuesCheck:!1}:arguments[5],f=arguments.length<=6||void 0===arguments[6]?{}:arguments[6],p=[],d=t.targetValue;return n.reduce(function(n,i){var m=i.id;return n.then(function(){return T(t,d,m,r)}).then(function(n){if(!n)return[];if((0,l.isStateRelated)(t.type))return(0,y.getCustomFieldsNamesForNewState)(n,e,m,r.entityType.name,a,f,c);if("customfield"===t.type){if(t.checkDependent&&null===d){var i=(0,s.omit)(a,n.name);return(0,y.getCustomFieldsNamesForChangedCustomFieldsWithDependent)([n.name],r.entityState?r.entityState:null,e,m,r.entityType.name,i,f,c)}var i=u({},a,o({},n.name,d));return(0,y.getCustomFieldsNamesForChangedCustomFields)([n.name],e,m,r.entityType.name,i,f,c)}return[]}).then(function(e){return v(e,m,r.entityType)}).then(function(e){p=p.concat(e)})},(0,i.when)([])).then(function(){return p})},E=t.getCustomFieldsForAxes=function(e,t,n,r){var o=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],u=arguments.length<=5||void 0===arguments[5]?{}:arguments[5],c=arguments.length<=6||void 0===arguments[6]?{}:arguments[6];return(0,i.whenList)(t.map(function(t){return x(e,t,n,r,o,u,c)})).then(function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return(0,s.flatten)(t)}).then(function(e){var n=(0,s.unique)(e,function(e){return e.name});if(!(t.length>1))return n;var r=function(){var e=t.reduce(function(e,t){return"customfield"===t.type?e.concat(t.customFieldName):e},[]);return{v:n.filter(function(t){return!(0,l.inValues)(e,t.name)})}}();return"object"===("undefined"==typeof r?"undefined":a(r))?r.v:void 0})};E.resetCache=function(){h.cache=[],g.cache=[],_.cache=[],P.cache=[]}},function(e,t,n){"use strict";var r=n(4),o=n(5),a=n(7),u=a.getStore().getTypes().getDictionary(),i=a.getApplicationPath(),s=function(e){return u[e.toLowerCase()].resource},l=function(e,t,n){return r.ajax({type:e,url:i+"/api/v2/"+t,contentType:"application/json; charset=utf-8",dataType:"json",data:n})},c=function(e,t){var n=function(e,t){return l("get",e,t).then(function(e){var t=e.items;return t})};return n(e,t)},f=function d(e){return o.isArray(e)?e.map(function(e){return d(e)}):o.isObject(e)?o.object(o.map(e,function(e,t){var n=t[0].toLowerCase()+t.slice(1);return"Items"===n&&o.isArray(e)?d(e):[n,d(e)]})):e},p=function(e){return e};e.exports={get:function(){var e=Array.prototype.slice.call(arguments);return 3===e.length?l("GET",s(e[0])+"/"+e[1],p(e[2])).then(f):c(e[0],p(e[1])).then(f)}}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomFieldsNamesForChangedCustomFieldsWithDependent=t.getCustomFieldsNamesForChangedCustomFields=t.getCustomFieldsNamesForNewState=void 0;var o=n(5),a=function(e,t){return String(e).toLowerCase()===String(t).toLowerCase()},u=function(e,t){return(0,o.find)(e,function(e,n){return a(n,t)})},i=function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return(0,o.isArray)(t)?t.some(function(t){return e.some(function(e){return a(t,e)})}):e.some(function(e){return a(e,t)})},s=function(e,t){return{_initial:t.isInitial,_final:t.isFinal,_planned:t.isPlanned}[e]||!1},l=function(e,t,n,o){var i=o;"string"==typeof o&&(i={name:o});var l=i,c=l.name,f=e.filter(function(e){return!e.processId||e.processId===t});return f.reduce(function(e,t){var o=u(t.constraints,n);if(!o)return e;var l=u(o,"entityStates");if(!l)return e;var f=l.filter(function(e){return a(e.name,c)||s(e.name,i)});return f.reduce(function(e,t){return r({},e,{requiredCustomFields:e.requiredCustomFields.concat(t.requiredCustomFields||[])})},e)},{name:c,requiredCustomFields:[]})},c=function(e,t,n){var r=e.filter(function(e){return!e.processId||e.processId===t});return r.reduce(function(e,t){var r=u(t.constraints,n);if(!r)return e;var o=u(r,"customFields");return o?e.concat(o):e},[])},f=function(e){return e.map(function(e){return r({},e,{requiredCustomFields:(e.requiredCustomFields||[]).map(function(e){return{name:e}})})})},p=function(e,t){return t[e.name]},d=function(e,t){return e.valueIn&&!i(e.valueIn,t)?!1:e.valueNotIn&&i(e.valueNotIn,t)?!1:!0},y=function(e,t,n){return e.requiredCustomFields?n?e.requiredCustomFields:d(e,t)?e.requiredCustomFields:[]:[]},m=function(e,t,n,r){return e.reduce(function(e,n){return e.concat(y(n,t,r))},[])},h=function(e,t,n,r,u){var i=t.filter(function(t){return a(t.name,e.name)}),s=p(e,n),l=(0,o.pluck)(i,"name"),c=t.filter(function(e){return l.indexOf(e.name)<0}),f=m(i,s,c,u);return f.length?v(f,c,n,r,!0,u):[]},v=function(e,t,n,r){var o=arguments.length<=4||void 0===arguments[4]?!0:arguments[4],a=arguments.length<=5||void 0===arguments[5]?!1:arguments[5];return e.reduce(function(e,u){if(o&&r.hasOwnProperty(u.name))return e;var i=e;return o&&(i=i.concat(u)),i=i.concat(h(u,t,n,r,a))},[])},g=t.getCustomFieldsNamesForNewState=function(e,t,n,r){var a=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],u=arguments.length<=5||void 0===arguments[5]?{}:arguments[5],i=arguments.length<=6||void 0===arguments[6]?{skipValuesCheck:!1}:arguments[6],s=i.skipValuesCheck,p=l(t,n,r,e),d=f(c(t,n,r)),y=p.requiredCustomFields.map(function(e){return{name:e}}),m=v(y,d,a,u,!0,s);return(0,o.uniq)((0,o.pluck)(m,"name"))},b=t.getCustomFieldsNamesForChangedCustomFields=function(e,t,n,r){var a=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],u=arguments.length<=5||void 0===arguments[5]?{}:arguments[5],s=arguments.length<=6||void 0===arguments[6]?{skipValuesCheck:!1}:arguments[6],l=s.skipValuesCheck,y=f(c(t,n,r)),m=y.filter(function(t){return i(e,t.name)&&d(t,p(t,a))}),h=v(m,y,a,u,!1,l);return(0,o.uniq)((0,o.pluck)(h,"name"))};t.getCustomFieldsNamesForChangedCustomFieldsWithDependent=function(e,t,n,r,a){var u=arguments.length<=5||void 0===arguments[5]?{}:arguments[5],s=arguments.length<=6||void 0===arguments[6]?{}:arguments[6],l=arguments.length<=7||void 0===arguments[7]?{}:arguments[7],p=b(e,n,r,a,u,s,l),d=f(c(n,r,a)),y=d.reduce(function(e,t){return e.concat(b([t.name],n,r,a,s,u,l))},[]),m=t?g(t,n,r,a,{},u,l):[],h=e.filter(function(e){return i(y,e)||i(m,e)});return(0,o.uniq)(h.concat(p))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(4),u=n(15),i=r(u),s=n(8),l=r(s),c=n(9),f=n(16),p=n(17),d=function(e,t){var n={entity:{id:parseInt((0,l["default"])(e.id),10),entityType:{name:e.type}},axes:t.reduce(function(e,t){return t.name.match(c.SLICE_CUSTOMFIELD_PREFIX)?e.concat({type:"customfield",customFieldName:t.name.replace(c.SLICE_CUSTOMFIELD_PREFIX,""),targetValue:(0,l["default"])(t.value)}):(0,c.isStateRelated)(t.name)?e.concat({type:(0,c.lc)(t.name),targetValue:(0,l["default"])(t.value)}):e},[]),replaceCustomFieldValueInChanges:o.noop};return(0,a.when)((0,p.createRequirementsByTasks)(n)).then(function(e){return[n].concat(e)})},y=function(e){return(0,a.whenList)(e.map(function(e){return d(e,e.changes)})).then(function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return(0,o.flatten)(t)})};t["default"]=(0,f.createInterrupter)({systemInterrupter:new i["default"],getEntitiesFromChanges:y})},function(e,t){e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFullChanges=t.createInterrupter=void 0;var r=n(4),o=n(9),a=function(e,t,n,o){var a=e.reduce(function(e,n){return e.then(function(){var e=new r.Deferred;return t(n,e),e.promise()})},(0,r.when)(!0));(0,r.when)(a).then(n,o)},u=function(e,t,n,o){e.interruptSave(o,function(e,o){var u=e.resolve,i=e.reject,s=o.filter(function(e){return e.id});return s.length?void(0,r.when)(t(s)).then(function(e){return e.filter(function(e){return e&&e.axes.length})}).then(function(e){return a(e,n,u,i)}).fail(function(){return u()}):void u()})};t.createInterrupter=function(e){var t=e.systemInterrupter,n=e.getEntitiesFromChanges;return function(e,r){var a=(0,o.getEntityTypesNamesFromConfig)(e);a.forEach(function(e){return u(t,n,r,e)})}},t.createFullChanges=function(e){return e.map(function(e){return{entity:{},to:e,processId:null}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createRequirementsByTasks=void 0;var o=n(5),a=n(4),u=n(10),i=r(u),s=n(9),l=function(e){return i["default"].get("EntityStates",e,{include:["isFinal"]})},c=function(e){return(0,s.equalIgnoreCase)(e,"_final")?!0:e.id?(0,a.when)(l(e.id)).then(function(e){return e.isFinal}):void 0},f=function(e){return e.filter(function(e){return!e.entityState.isFinal}).map(function(e){return{entity:e,axes:[{type:"entitystate",targetValue:"_final"}]}})},p=function(e){return i["default"].get("Tasks",{include:["EntityType",{EntityState:["isFinal"]}],where:"UserStory.id eq "+e.id})};t.createRequirementsByTasks=function(e){var t=e.entity,n=e.axes;if((0,s.equalIgnoreCase)(t.entityType.name,"userstory")){var r=(0,o.find)(n,function(e){return"entitystate"===e.type});if(r)return(0,a.when)(c(r.targetValue)).then(function(e){return e?(0,a.when)(p(t)).then(function(e){return f(e)}):[]})}return[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(4),u=n(19),i=r(u),s=n(9),l=n(16),c=n(17),f=function(e,t){var n={entity:{id:e.id,entityType:{name:e.type}},axes:t.reduce(function(e,t){return(0,s.equalIgnoreCase)(t.name,"customfields")?e.concat(t.value.map(function(e){return{type:"customfield",customFieldName:e.name,targetValue:e.value,checkDependent:!0}})):(0,s.isStateRelated)(t.name)?e.concat({type:(0,s.lc)(t.name),targetValue:t.value}):e},[]),replaceCustomFieldValueInChanges:function(e,n){var r=(0,o.find)(t,function(e){return(0,s.equalIgnoreCase)(e.name,"customfields")});if(r){var a=(0,o.find)(r.value,function(t){return(0,s.equalIgnoreCase)(t.name,e)});a&&(a.value=n)}}};return(0,a.when)((0,c.createRequirementsByTasks)(n)).then(function(e){return[n].concat(e)})},p=function(e){return(0,a.whenList)(e.map(function(e){return f(e,e.changes)})).then(function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return(0,o.flatten)(t)})};t["default"]=(0,l.createInterrupter)({systemInterrupter:new i["default"],getEntitiesFromChanges:p})},function(e,t){e.exports=a},function(e,t){e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(22),a=r(o);t["default"]=a["default"]},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var f=n(20),p=o(f),d=n(5),y=n(4),m=n(23),h=o(m),v=n(10),g=o(v),b=n(12),O=o(b),w=n(11),j=n(9),_=n(29),P=o(_),C=n(70),T=o(C),x=n(71),E=r(x),k=n(72),F=o(k),S=function(e,t){return O["default"].get("CustomField",{take:1e3,where:"process.id == "+(e||"null")+" and entityType.id == "+t.entityType.id,select:"new(required, name, id, config, fieldType, value, entityType, process)"})},I=function(e){return(0,j.equalIgnoreCase)(e.entityType.name,"project")?g["default"].get("Project",e.id,{include:["Name","EntityType",{EntityState:["Id","Name","isInitial","isFinal","isPlanned"]},{Process:["Id"]},"CustomFields"]}):(0,j.isAssignable)(e)?g["default"].get(e.entityType.name,e.id,{include:["Name","EntityType",{EntityState:["Id","Name","isInitial","isFinal","isPlanned"]},{Project:[{Process:["Id"]}]},"CustomFields"]}):(0,j.isGeneral)(e)?g["default"].get(e.entityType.name,e.id,{include:["Name","EntityType",{Project:[{Process:["Id"]}]},"CustomFields"]}):(0,j.isUser)(e)?g["default"].get("User",e.id,{include:["FirstName","LastName","CustomFields"]}).then(function(t){return c({},e,{name:t.firstName+" "+t.lastName,res:t})}):void 0},N=function(e){return e.process?e.process.id:e.project?e.project.process.id:null},M=function(e,t,n,r){var o=arguments.length<=4||void 0===arguments[4]?[]:arguments[4],a=arguments.length<=5||void 0===arguments[5]?[]:arguments[5],u=arguments.length<=6||void 0===arguments[6]?{}:arguments[6],i=(0,d.object)(a.filter(function(e){return!e.isEmpty}).map(function(e){return[e.name,e.value]})),s=(0,d.object)(o.filter(function(e){return!e.isEmptyDefaultValue}).map(function(e){return[e.name,e.defaultValue]})),l=(0,d.map)(u,function(e,t){return E.fromInputValue((0,d.find)(o,function(e){return e.name===t}),e)}),f=(0,d.object)(l.map(function(e){return[e.name,e.value]})),p=c({},s,f),m=[{id:n}];return(0,y.when)((0,w.getCustomFieldsForAxes)(e,t,m,r,p,{},i)).then(function(e){var t=e.map(function(e){return(0,T["default"])(e)});return t})},R=function(e){function t(){var e,n,r,o;u(this,t);for(var s=arguments.length,l=Array(s),f=0;s>f;f++)l[f]=arguments[f];return n=r=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={isLoading:!0,onAfterSave:d.noop,onCancel:d.noop,entityCustomFields:[],outputCustomFields:[],formValues:{}},r.handleSubmit=function(e){var t=(0,d.object)(e.map(function(e){return[e.name,e.value]})),n=r.props,o=n.entity,a=n.replaceCustomFieldValueInChanges,u=r.state,i=u.entityCustomFields,s=u.existingCustomFieldsValues,l=i.filter(function(e){return t.hasOwnProperty(e.name)}),f=(0,F["default"])(l,t,s);if(f.isValid){var p=f.fields.map(function(e){return e.customFieldValue}),y={customFields:p.map(function(e){var t=e.name,n=e.serverValue;return{name:t,value:n}})};r.setState(c({},r.state,{isSaving:!0})),p.forEach(function(e){var t=e.name,n=e.serverValue;return a(t,n)}),g["default"].save(o.entityType.name,o.id,y).then(function(){return r.setState(c({},r.state,{isSaving:!1}))}).then(r.props.onAfterSave).fail(function(e){var t=e.responseJSON;t&&t.Message?r.setState(c({},r.state,{globalError:t.Message,isSaving:!1})):r.setState(c({},r.state,{globalError:"Error while saving",isSaving:!1}))})}},r.handleChange=function(e,t){var n=c({},r.state.formValues,a({},e.name,t)),o=r.props,u=o.mashupConfig,i=o.changes,s=r.state,l=s.entity,f=s.processId,p=s.entityCustomFields,d=s.existingCustomFieldsValues;
(0,y.when)(M(u,i,f,l,p,d,n)).then(function(e){r.setState({outputCustomFields:e,formValues:n})})},o=n,i(r,o)}return s(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;w.getCustomFieldsForAxes.resetCache();var t=this.props,n=t.entity,r=t.changes,o=t.mashupConfig,a=this.state.formValues;return r.length?void(0,y.when)(I(n)).then(function(e){var t=N(e);return(0,y.when)(S(t,e),e,t)}).then(function(t,n,u){var i=t.map(function(e){return(0,T["default"])(e)}),s=i.map(function(e){return E.fromServerValue(e,(0,d.find)(n.customFields,function(t){return t.name===e.name}).value)});return e.setState({processId:u,entityCustomFields:i,entity:n,existingCustomFieldsValues:s}),M(o,r,u,n,i,s,a)}).then(function(t){t.length?e.setState({outputCustomFields:t,isLoading:!1}):e.props.onAfterSave()}):null}},{key:"render",value:function(){var e=this.props.changes,t=this.state,n=t.isLoading,r=t.isSaving,o=t.globalError,a=t.outputCustomFields,u=t.entity;if(!e.length)return null;if(n)return null;if(!a.length)return null;var i=this.state,s=i.formValues,l=i.existingCustomFieldsValues,c=(0,F["default"])(a,s,l),f=c.fields;return p["default"].createElement(h["default"],{onClose:this.props.onCancel},p["default"].createElement(P["default"],{entity:u,fields:f,globalError:o,onChange:this.handleChange,onSubmit:this.handleSubmit,showProgress:r}))}}]),t}(p["default"].Component);R.propTypes={changes:f.PropTypes.array.isRequired,entity:f.PropTypes.shape({id:f.PropTypes.number.isRequired,entityType:f.PropTypes.shape({name:f.PropTypes.string.isRequired}).isRequired}).isRequired,mashupConfig:f.PropTypes.array,onAfterSave:f.PropTypes.func,onCancel:f.PropTypes.func},t["default"]=R},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(20),l=r(s),c=n(24),f=r(c),p=n(25),d=r(p),y=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),i(t,[{key:"render",value:function(){return l["default"].createElement("div",{className:(0,f["default"])("ui-popup-overlay",d["default"].overlay)},l["default"].createElement("div",{className:(0,f["default"])("ui-popup",d["default"].outerpopup)},l["default"].createElement("div",{className:(0,f["default"])(d["default"].innerpopup)},l["default"].createElement("div",{className:"close",onClick:this.props.onClose}),l["default"].createElement("div",{className:(0,f["default"])(d["default"].popupcontentcrollablearea)},l["default"].createElement("div",{className:(0,f["default"])(d["default"].content)},this.props.children)))))}}]),t}(l["default"].Component);t["default"]=y},function(e,t,n){var r,o;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var u in r)a.call(r,u)&&r[u]&&e.push(u)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],o=function(){return n}.apply(t,r),!(void 0!==o&&(e.exports=o)))}()},function(e,t,n){var r=n(26);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={overlay:"_3idgxfgZU1py1KPzyqvmJC",outerpopup:"_24SCx12WS99ayjKkY4VUFE",innerpopup:"_3IhnqcBItw7p9dYjPTVfLI",popupcontentcrollablearea:"_2plNT2Z_AmwI4R89e6KFW-",content:"_3HF8nl8pZ23HhjubMXx5hK"},t.push([e.id,"._3idgxfgZU1py1KPzyqvmJC{background:rgba(33,33,33,.5);position:absolute;width:100%;height:100vh;text-align:left;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:99999}._24SCx12WS99ayjKkY4VUFE,._3IhnqcBItw7p9dYjPTVfLI{background:0 0;position:relative;flex-direction:column;display:flex}._24SCx12WS99ayjKkY4VUFE{top:0;left:0;right:0;bottom:0;padding:0;box-shadow:none;border-radius:0;z-index:0}._3IhnqcBItw7p9dYjPTVfLI{max-height:100vh;max-width:100vw;padding:15px;box-sizing:border-box}._3IhnqcBItw7p9dYjPTVfLI>.close,._3IhnqcBItw7p9dYjPTVfLI>.close:hover{top:0;right:0;float:none}._2plNT2Z_AmwI4R89e6KFW-{overflow:auto;background:#fff;border-radius:3px;box-shadow:0 1px 3px #0f0e0f;display:flex;flex-direction:column;width:530px}._3HF8nl8pZ23HhjubMXx5hK{font-family:Arial,sans-serif;font-size:12px;padding:15px 10px}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<t.length;o++){var u=t[o];"number"==typeof u[0]&&r[u[0]]||(n&&!u[2]?u[2]=n:n&&(u[2]="("+u[2]+") and ("+n+")"),e.push(u))}},e}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=f[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(i(r.parts[a],t))}else{for(var u=[],a=0;a<r.parts.length;a++)u.push(i(r.parts[a],t));f[r.id]={id:r.id,refs:1,parts:u}}}}function o(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],a=o[0],u=o[1],i=o[2],s=o[3],l={css:u,media:i,sourceMap:s};n[a]?n[a].parts.push(l):t.push(n[a]={id:a,parts:[l]})}return t}function a(){var e=document.createElement("style"),t=y();return e.type="text/css",t.appendChild(e),e}function u(){var e=document.createElement("link"),t=y();return e.rel="stylesheet",t.appendChild(e),e}function i(e,t){var n,r,o;if(t.singleton){var i=h++;n=m||(m=a()),r=s.bind(null,n,i,!1),o=s.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(),r=c.bind(null,n),o=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(),r=l.bind(null,n),o=function(){n.parentNode.removeChild(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function s(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,o);else{var a=document.createTextNode(o),u=e.childNodes;u[t]&&e.removeChild(u[t]),u.length?e.insertBefore(a,u[t]):e.appendChild(a)}}function l(e,t){var n=t.css,r=t.media;t.sourceMap;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function c(e,t){var n=t.css,r=(t.media,t.sourceMap);r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}var f={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},d=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),y=p(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,h=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=d());var n=o(e);return r(n,t),function(e){for(var a=[],u=0;u<n.length;u++){var i=n[u],s=f[i.id];s.refs--,a.push(s)}if(e){var l=o(e);r(l,t)}for(var u=0;u<a.length;u++){var s=a[u];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete f[s.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=n(30),p=r(f),d=n(68),y=r(d),m=n(46),h=r(m),v=function(e){function t(){var e,n,r,u;o(this,t);for(var s=arguments.length,l=Array(s),c=0;s>c;c++)l[c]=arguments[c];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleSubmit=function(e){e.preventDefault();var t=r.props.fields.map(function(e){return i({},e,{value:r.refs[e.name].value})});r.props.onSubmit(t)},r.handleChange=function(e,t){r.props.onChange(e,t)},u=n,a(r,u)}return u(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.entity,r=t.fields,o=t.showProgress,a=t.globalError,u=r.some(function(e){var t=e.validationErrors,n=void 0===t?[]:t;return n.length});return c["default"].createElement("div",null,c["default"].createElement(h["default"],{className:y["default"].header,entity:n}),c["default"].createElement("div",{className:y["default"].note},"Please specify the following custom fields"),a?c["default"].createElement("div",{className:y["default"].error},a):null,c["default"].createElement("form",{onSubmit:this.handleSubmit},r.map(function(t,r){return c["default"].createElement(p["default"],{autoFocus:!r,entity:n,item:t,key:t.name,onChange:e.handleChange,ref:t.name})}),c["default"].createElement("div",{className:y["default"].buttons},c["default"].createElement("button",{className:"tau-btn tau-primary",disabled:u||o||null,type:"submit"},"Save and Continue"))))}}]),t}(c["default"].Component);v.propTypes={entity:l.PropTypes.object.isRequired,fields:l.PropTypes.arrayOf(p["default"].propTypes.item),globalError:l.PropTypes.string,onChange:l.PropTypes.func,onSubmit:l.PropTypes.func,showProgress:l.PropTypes.bool,values:l.PropTypes.object},v.defaultProps={fields:[],values:{}},t["default"]=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var c=n(20),f=r(c),p=n(5),d=n(24),y=r(d),m=n(31),h=r(m),v=n(66),g=r(v),b=function(e){function t(){return a(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.entity,n=e.item,r=e.onChange,a=e.autoFocus,u=n.name,i=n.field,l=void 0===i?h["default"].defaultProps.field:i,c=n.hasDirtyValue,d=n.value,m=n.hasErrors,v=n.validationErrors,b=void 0===v?[]:v,O=l.type,w=u,j={};"checkbox"===O&&(w=""),"money"===O&&(w=f["default"].createElement("span",null,f["default"].createElement("span",null,w,", "),f["default"].createElement("span",{dangerouslySetInnerHTML:{__html:l.config.units}}))),("entity"===O||"multipleentities"===O)&&(j={filterEntityTypeName:{$in:l.config.entityTypeIds},filterFields:t&&t.project&&t.project.id?{"project.id":t.project.id}:{}});var _=Boolean(m&&c),P=_?(0,p.pluck)(b,"message").join("\n"):null,C=p.underscored?(0,p.underscored)(u):u;return f["default"].createElement("div",{className:g["default"].block,title:P},f["default"].createElement("div",{className:g["default"].label},f["default"].createElement("label",{className:(0,y["default"])(g["default"].labeltext,o({},g["default"].labeltextrichtext,"richtext"===O)),htmlFor:C},f["default"].createElement("span",null,w)),f["default"].createElement(h["default"],s({},j,{autoFocus:a,field:l,id:C,isInvalid:_,onChange:r,ref:"input",validationErrors:b,value:d}))))}},{key:"value",get:function(){return this.refs.input.value}}]),t}(f["default"].Component);b.propTypes={autoFocus:c.PropTypes.bool,entity:c.PropTypes.object,item:c.PropTypes.shape({name:c.PropTypes.string.isRequired,field:h["default"].propTypes.field,value:c.PropTypes.any}).isRequired,onChange:c.PropTypes.func},b.defaultProps={autoFocus:!1,onChange:p.noop},t["default"]=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=n(5),p=n(32),d=r(p),y=n(33),m=r(y),h=n(37),v=r(h),g=n(38),b=r(g),O=n(49),w=r(O),j=n(50),_=r(j),P=n(52),C=r(P),T=n(59),x=r(T),E=n(51),k=r(E),F=n(62),S=r(F),I=n(65),N=r(I),M=function(e){function t(){var e,n,r,u;o(this,t);for(var i=arguments.length,s=Array(i),l=0;i>l;l++)s[l]=arguments[l];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handleChange=function(){r.props.onChange(r.props.field,r.value)},r.handleBlur=function(){r.props.onChange(r.props.field,r.value)},u=n,a(r,u)}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props.field,t=e.type,n={checkbox:d["default"],date:m["default"],dropdown:v["default"],entity:b["default"],multipleselectionlist:w["default"],number:_["default"],richtext:C["default"],templatedurl:x["default"],text:k["default"],url:S["default"],multipleentities:N["default"]}[t]||k["default"];return c["default"].createElement(n,i({},this.props,{onBlur:this.handleBlur,onChange:this.handleChange,ref:"widget"}))}},{key:"value",get:function(){return this.refs.widget.value}}]),t}(c["default"].Component);M.propTypes={field:l.PropTypes.shape({type:l.PropTypes.string.isRequired}),isInvalid:l.PropTypes.bool,onChange:l.PropTypes.func,value:l.PropTypes.any},M.defaultProps={onChange:f.noop,specificProps:{},field:{type:"text"}},t["default"]=M},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.value,r=t.name;return c["default"].createElement("label",{className:"tau-checkbox"},c["default"].createElement("input",i({},this.props,{checked:n,ref:"input",type:"checkbox"})),c["default"].createElement("i",{className:"tau-checkbox__icon"}),c["default"].createElement("span",{style:{color:"#999"}},r))}},{key:"value",get:function(){return(0,l.findDOMNode)(this.refs.input).checked}}]),t}(c["default"].Component);f.propTypes={field:l.PropTypes.shape({name:l.PropTypes.string}).isRequired,value:l.PropTypes.any},t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=n(4),p=r(f),d=n(24),y=r(d),m=n(34),h=r(m),v=n(35),g=r(v),b=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),s(t,[{key:"componentDidMount",value:function(){var e=(0,p["default"])((0,l.findDOMNode)(this.refs.trigger)),t=(0,p["default"])((0,l.findDOMNode)(this.refs.input));p["default"].datepicker.parseDate=function(e,t){return h["default"].parse(t)},p["default"].datepicker.formatDate=function(e,t){return h["default"].formatAs(t,e)},t.datepicker({dateFormat:h["default"].getFormatData().date["short"],onSelect:this.props.onChange}),e.on("click",function(){return t.datepicker("show")})}},{key:"render",value:function(){return c["default"].createElement("div",{className:(0,y["default"])("ui-dateeditor",g["default"].block)},c["default"].createElement("input",i({},this.props,{className:(0,y["default"])("tau-in-text",{"tau-error":this.props.isInvalid}),placeholder:" ",ref:"input",type:"text",value:this.props.value})),c["default"].createElement("span",{className:"ui-datepicker-trigger",ref:"trigger"}))}},{key:"value",get:function(){return(0,l.findDOMNode)(this.refs.input).value}}]),t}(c["default"].Component);t["default"]=b},function(e,t){e.exports=i},function(e,t,n){var r=n(36);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={block:"_3LtdTBjrx9qqH_L5AHfvap"},t.push([e.id,"._3LtdTBjrx9qqH_L5AHfvap{display:flex;align-items:center}._3LtdTBjrx9qqH_L5AHfvap>input{flex:1 1 auto;margin-left:2px;border:1px solid #acb6bf;box-shadow:none}._3LtdTBjrx9qqH_L5AHfvap>button{flex:0 0 auto}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=n(24),p=r(f),d=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.value,r=[""].concat(t.config.options);return c["default"].createElement("select",i({},this.props,{className:(0,p["default"])("tau-select",{"tau-error":this.props.isInvalid}),ref:"input",type:"text",value:n}),r.map(function(e,t){return c["default"].createElement("option",{key:t,value:e},e)}))}},{key:"value",get:function(){return(0,l.findDOMNode)(this.refs.input).value}}]),t}(c["default"].Component);t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=n(39),p=r(f),d=n(46),y=r(d),m=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props.value,t=void 0;return e&&(t=c["default"].createElement(y["default"],{entity:e})),c["default"].createElement(p["default"],i({},this.props,{multiple:!1,placeholder:"Click to select entity",ref:"input"}),t)}},{key:"value",get:function(){return this.refs.input.value}}]),t}(c["default"].Component);m.propTypes={value:l.PropTypes.object},m.defaultProps={value:void 0},t["default"]=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=n(24),p=r(f),d=n(4),y=r(d),m=n(5),h=n(40),v=r(h),g=n(41),b=r(g),O=n(44),w=r(O),j=function(e){function t(){var e,n,r,u;o(this,t);for(var s=arguments.length,l=Array(s),c=0;s>c;c++)l[c]=arguments[c];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={value:void 0,showFinder:!1,showFinderBubble:!1},r.handleFocus=function(){r.setState(i({},r.state,{showFinder:!r.state.showFinder})),r.state.showFinder&&r.props.onBlur()},r.handleSelect=function(e){var t=r.props.multiple;r.setState({value:t?(r.state.value||[]).concat(e):e,showFinder:t,showFinderBubble:t},function(){return r.props.onChange(e)})},r.handleClickReset=function(){r.setState({value:void 0,showFinder:!1,showFinderBubble:!1},function(){return r.props.onChange(void 0)})},r.handleClickOutsideFinder=function(e){(0,y["default"])(e.target).closest("body").length&&r.setState(i({},r.state,{showFinder:!1,showFinderBubble:!1}),function(){return r.props.onBlur()})},r.handleFinderAdjusted=function(){r.refs.bubble&&r.refs.bubble.adjust(),setTimeout(function(){r.refs.bubble&&r.refs.bubble.adjust(),r.state.showFinderBubble||r.setState(i({},r.state,{showFinderBubble:!0}))},300)},u=n,a(r,u)}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.filterEntityTypeName,n=e.filterFields,r=e.children,o=e.id,a=e.isInvalid,u=this.state,s=u.value,f=u.showFinder,d=u.showFinderBubble,y=void 0,h=void 0;f&&(y=c["default"].createElement(b["default"],{filterEntityTypeName:t,filterFields:n,onAdjust:this.handleFinderAdjusted,onRendered:this.handleFinderRendered,onSelect:this.handleSelect}),h=c["default"].createElement(v["default"],{config:{onPositionConfig:function(e){return i({},e,{at:"left middle",my:"right middle",collision:"flipfit flipfit"})}},onClickOutside:this.handleClickOutsideFinder,overlay:y,ref:"bubble",style:{visibility:d?"visible":"hidden"},target:(0,l.findDOMNode)(this.refs.trigger)}));var g=void 0;return g=r?r:c["default"].createElement("span",{className:w["default"].placeholder},this.props.placeholder),c["default"].createElement("div",i({},this.props,{className:w["default"].block,id:null,onBlur:m.noop}),c["default"].createElement("div",{className:w["default"].inputwrapper},c["default"].createElement("div",{className:(0,p["default"])("tau-in-text",{"tau-error":a},w["default"].input),id:o,onClick:this.handleFocus,ref:"trigger",tabIndex:"-1"},g),s?c["default"].createElement("button",{className:w["default"].reset,onClick:this.handleClickReset,type:"button"},c["default"].createElement("i",{className:"tau-icon-general tau-icon-close-round"})):null),h)}},{key:"value",get:function(){var e=this.state.value;return this.props.multiple?e||[]:e}}]),t}(c["default"].Component);j.propTypes={filterEntityTypeName:b["default"].propTypes.filterEntityTypeName,filterFields:l.PropTypes.object,multiple:l.PropTypes.bool,onBlur:l.PropTypes.func,onChange:l.PropTypes.func,placeholder:l.PropTypes.string},j.defaultProps={filterFields:{},multiple:!1,onBlur:m.noop,onChange:m.noop,placeholder:"Click to select"},t["default"]=j},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=n(4),p=r(f),d=n(5),y=function(e){function t(){var e,n,r,u;o(this,t);for(var i=arguments.length,s=Array(i),l=0;i>l;l++)s[l]=arguments[l];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handleClickDocument=function(e){var t=r.props.target;e.target===c["default"].findDOMNode(t)||c["default"].findDOMNode(t).contains(e.target)||e.target===r.bubble||r.bubble.contains(e.target)||r.props.onClickOutside(e)},u=n,a(r,u)}return u(t,e),s(t,[{key:"componentDidMount",value:function(){this.span=(0,p["default"])("<span />").appendTo("body")[0],this.renderBubble(this.props.target,this.props.overlay),this.documentListener=this.handleClickDocument.bind(this),document.body.addEventListener("click",this.documentListener)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.target,n=e.target;t!==n&&((0,p["default"])(t).tauBubble("instance")&&(0,p["default"])(t).tauBubble("destroy"),this.renderBubble(n,e.overlay)),(0,p["default"])(t).tauBubble("instance")&&(0,p["default"])(t).tauBubble("widget").css(e.style)}},{key:"componentWillUnmount",value:function(){(0,p["default"])(this.props.target).tauBubble("destroy"),document.body.removeEventListener("click",this.documentListener)}},{key:"render",value:function(){return null}},{key:"renderBubble",value:function(e,t){this.bubble=(0,l.findDOMNode)(c["default"].render(t,this.span)),(0,p["default"])(e).tauBubble(i({target:e,content:this.span,showOnCreation:!0,showEvent:"none",hideEvent:"none",documentMouseEvent:"none",stackName:String(Number(new Date)),zIndex:999},this.props.config)),(0,p["default"])(e).tauBubble("widget").css(this.props.style)}},{key:"adjust",value:function(){(0,p["default"])(this.props.target).tauBubble("adjustPosition")}}]),t}(c["default"].Component);y.propTypes={config:l.PropTypes.object,onClickOutside:l.PropTypes.func.isRequired,overlay:l.PropTypes.node.isRequired,style:l.PropTypes.object,target:l.PropTypes.object.isRequired},y.defaultProps={config:{},onClickOutside:d.noop,style:{}},t["default"]=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=n(5),p=n(42),d=r(p),y=function(e){function t(){var e,n,r,u;o(this,t);for(var i=arguments.length,s=Array(i),l=0;i>l;l++)s[l]=arguments[l];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handleEvents=function(e,t){var n={entitySelected:function(e){var t=e.entity;return r.handleSelect(t)},"result.rendered":function(){return r.handleAdjust()},"content.$element.ready":function(){return r.handleAdjust()}};n[e]&&n[e](t)},r.handleSelect=function(e){return r.props.onSelect(e)},r.handleAdjust=function(){return r.props.onAdjust()},u=n,a(r,u)}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.filterEntityTypeName,n=e.filterDsl,r=e.filterFields,o={};return o.entityType=null,o.filter={entityType:t},o.filter=i({},o.filter,r),n&&(o.filter.init_dsl=n),c["default"].createElement(d["default"],{config:o,onEvents:this.handleEvents,type:"finder.entity"})}}]),t}(c["default"].Component);y.propTypes={filterDsl:l.PropTypes.string,filterEntityTypeName:l.PropTypes.oneOfType([l.PropTypes.string,l.PropTypes.arrayOf(l.PropTypes.string),l.PropTypes.object]),filterFields:l.PropTypes.object,onAdjust:l.PropTypes.func,onSelect:l.PropTypes.func},y.defaultProps={filterDsl:void 0,filterEntityTypeName:["project","program","release","iteration","teamiteration","testcase","testplan","build","impediment","epic","feature","userstory","task","bug","testplanrun","request"],filterFields:{},onAdjust:f.noop,onSelect:f.noop},t["default"]=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){
var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=n(5),p=n(43),d=r(p),y=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.type,r=t.config,o=t.context,a=t.onEvents,u=d["default"].create({name:"targetprocesscomponent."+n});this.bus=u,u.once("afterRender",function(t){var n=t.data.element;n.length&&(0,l.findDOMNode)(e).appendChild(n[0])}),u.once("childrenBuses.ready",function(e){var t=e.data,n=t[0];n.fire=(0,f.wrap)(n.fire.bind(n),function(e,t,n){a(t,n),e(t,n)})}),u.initialize({context:o,children:[i({},r,{type:n})]})}},{key:"componentWillUnmount",value:function(){this.bus.fire("destroy")}},{key:"render",value:function(){return c["default"].createElement("div",null)}}]),t}(c["default"].Component);y.propTypes={config:l.PropTypes.object,context:l.PropTypes.object,onEvents:l.PropTypes.func,type:l.PropTypes.string.isRequired},y.defaultProps={context:{},config:{},onEvents:f.noop},t["default"]=y},function(e,t){e.exports=s},function(e,t,n){var r=n(45);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={block:"_1WcpLYLKVnqojMgvUFGF6l",inputwrapper:"rSj95UXnSveTZLksLjrHq",input:"_22-T7ibYJ8_zCql-fR5R2l",placeholder:"_3XIHf_9K2_7pvFdHV15NfG",reset:"Q4XP5pcNmyhtp81tV3YmN"},t.push([e.id,"._1WcpLYLKVnqojMgvUFGF6l{display:flex;flex-grow:1}.rSj95UXnSveTZLksLjrHq{display:flex;align-items:center;cursor:pointer;flex-grow:1;position:relative}._22-T7ibYJ8_zCql-fR5R2l{flex-grow:1;display:flex;align-items:center;min-height:24px;height:auto;padding-right:20px;flex-wrap:wrap}._3XIHf_9K2_7pvFdHV15NfG{font-size:11px;color:#acb6bf}.Q4XP5pcNmyhtp81tV3YmN{position:absolute;right:2px;top:0;bottom:0;background:0 0;border:none;display:flex;align-items:center;justify-content:center;padding:0;margin:0 5px}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=n(24),p=r(f),d=n(47),y=r(d),m=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.entity,r=e["short"];return c["default"].createElement("span",i({},this.props,{className:(0,p["default"])("tau-linkentity",y["default"].block,t),title:r?n.name:null}),c["default"].createElement("em",{className:(0,p["default"])("tau-entity-icon","tau-entity-icon--"+n.entityType.name.toLowerCase(),"tau-linkentity__icon")},n.id),r?null:c["default"].createElement("span",{className:"tau-linkentity__inner"},n.name))}}]),t}(c["default"].Component);m.propTypes={className:l.PropTypes.string,entity:l.PropTypes.shape({id:l.PropTypes.number.isRequired,name:l.PropTypes.string,entityType:l.PropTypes.shape({name:l.PropTypes.string.isRequired}).isRequired}).isRequired,"short":l.PropTypes.bool},m.defaultProps={"short":!1},t["default"]=m},function(e,t,n){var r=n(48);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={block:"_2JMvi-38cNXWX1m3k81H5s"},t.push([e.id,"._2JMvi-38cNXWX1m3k81H5s{display:flex;align-items:baseline;margin-bottom:1px}._2JMvi-38cNXWX1m3k81H5s>.tau-linkentity__icon{flex:0 0 auto}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=n(4),p=r(f),d=n(24),y=r(d),m=function(e){function t(){var e,n,r,u;o(this,t);for(var i=arguments.length,s=Array(i),l=0;i>l;l++)s[l]=arguments[l];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handleFocus=function(e){setTimeout(function(){return r.props.onChange(e)},0)},u=n,a(r,u)}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.value,r=t.config.options;return c["default"].createElement("select",i({},this.props,{className:(0,y["default"])("tau-select",{"tau-error":this.props.isInvalid}),multiple:!0,onFocus:this.handleFocus,ref:"input",type:"text",value:n}),r.map(function(e,t){return c["default"].createElement("option",{key:t,value:e},e)}))}},{key:"value",get:function(){return(0,p["default"])((0,l.findDOMNode)(this.refs.input)).val()||[]}}]),t}(c["default"].Component);m.defaultProps={value:[]},t["default"]=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=n(51),p=r(f),d=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){return c["default"].createElement(p["default"],i({},this.props,{ref:"input"}))}},{key:"value",get:function(){return(0,l.findDOMNode)(this.refs.input).value}}]),t}(c["default"].Component);t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=n(24),p=r(f),d=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){return c["default"].createElement("input",i({placeholder:" ",ref:"input",type:"text"},this.props,{className:(0,p["default"])("tau-in-text",{"tau-error":this.props.isInvalid})}))}},{key:"value",get:function(){return(0,l.findDOMNode)(this.refs.input).value}}]),t}(c["default"].Component);t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=n(53),p=r(f),d=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){return c["default"].createElement(p["default"],i({},this.props,{ref:"input"}))}},{key:"value",get:function(){return this.refs.input.value}}]),t}(c["default"].Component);t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=n(4),p=r(f),d=n(5),y=n(7),m=r(y),h=n(54),v=r(h),g=n(57),b=r(g),O=function(e){function t(){var e,n,r,u;o(this,t);for(var i=arguments.length,s=Array(i),l=0;i>l;l++)s[l]=arguments[l];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={canApplyRicheditor:Boolean(p["default"].ui.richeditor)},u=n,a(r,u)}return u(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;if(!this.state.canApplyRicheditor)return null;var t=(0,p["default"])((0,l.findDOMNode)(this.refs.input.textarea));t.richeditor({ckPath:m["default"].getCkPath(),ckFinderPath:m["default"].getCkFinderPath(),settings:{toolbar:"Basic",toolbarStartupExpanded:!0,toolbarCanCollapse:!1,startupFocus:this.props.autoFocus,uploaderConfig:{uploadFiles:null},baseFloatZIndex:1e5},saveAction:{available:!1},cancelAction:{available:!1}}),t.richeditor("show"),t.on("richeditorchange",this.props.onChange);var n=function r(){t.richeditor("instance").editor?t.richeditor("instance").editor.on("blur",e.props.onBlur):setTimeout(r,100)};n()}},{key:"componentWillUnmount",value:function(){if(!this.state.canApplyRicheditor)return null;var e=(0,p["default"])((0,l.findDOMNode)(this.refs.input.textarea));e.richeditor("destroy")}},{key:"render",value:function(){return c["default"].createElement(v["default"],i({},(0,d.omit)(this.props,"onBlur","onChange"),{className:b["default"].block,ref:"input"}))}},{key:"value",get:function(){return this.state.canApplyRicheditor?(0,p["default"])((0,l.findDOMNode)(this.refs.input.textarea)).richeditor("getText"):this.refs.input.value}}]),t}(c["default"].Component);t["default"]=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=n(24),p=r(f),d=n(55),y=r(d),m=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){return c["default"].createElement("div",{className:(0,p["default"])(y["default"].block,{"tau-error":this.props.isInvalid},this.props.className)},c["default"].createElement("textarea",i({placeholder:" ",ref:"input"},this.props,{className:(0,p["default"])("tau-in-text",y["default"].textarea,{"tau-error":this.props.isInvalid})})))}},{key:"value",get:function(){return(0,l.findDOMNode)(this.textarea).value}},{key:"textarea",get:function(){return this.refs.input}}]),t}(c["default"].Component);t["default"]=m},function(e,t,n){var r=n(56);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={block:"_1OX9xfRIRp-lkD0uoT3dyi",textarea:"_2zjKsiitB0L2WQ1gGoj7sq"},t.push([e.id,"._1OX9xfRIRp-lkD0uoT3dyi{flex-grow:1;display:flex;flex-direction:column;margin:0 2px}._2zjKsiitB0L2WQ1gGoj7sq._2zjKsiitB0L2WQ1gGoj7sq{flex:1 1 auto;width:100%;height:6em;margin:0;resize:vertical}",""])},function(e,t,n){var r=n(58);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={block:"vC7Tm0eWuIJj0DwwpD2yx"},t.push([e.id,".vC7Tm0eWuIJj0DwwpD2yx.tau-error .cke{border-color:#f66}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(s){o=!0,a=s}finally{try{!r&&i["return"]&&i["return"]()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var c=n(20),f=r(c),p=n(51),d=r(p),y=n(60),m=r(y),h=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props.field,t=e.config.template,n=t.split("{0}"),r=s(n,2),o=r[0],a=r[1];return f["default"].createElement("div",{className:m["default"].block},o?f["default"].createElement("span",{className:m["default"].template},o):null,f["default"].createElement(d["default"],i({},this.props,{ref:"input"})),a?f["default"].createElement("span",{className:m["default"].template},a):null)}},{key:"value",get:function(){return(0,c.findDOMNode)(this.refs.input).value}}]),t}(f["default"].Component);t["default"]=h},function(e,t,n){var r=n(61);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={block:"_1x9LGMXr05E_QMtU9X9vI6",template:"_1RJV84eHeFNXAdIKsQciUv"},t.push([e.id,"._1x9LGMXr05E_QMtU9X9vI6{flex:1 1 auto;display:flex;align-items:baseline}._1x9LGMXr05E_QMtU9X9vI6>input{flex:1 1 auto}._1RJV84eHeFNXAdIKsQciUv{font-style:italic;flex:0 0 auto}",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=n(24),p=r(f),d=n(63),y=r(d),m=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props.value;return c["default"].createElement("div",{className:y["default"].block},c["default"].createElement("div",{className:y["default"].row},c["default"].createElement("label",{className:y["default"].label},c["default"].createElement("span",{className:y["default"].labeltext},"Url"),c["default"].createElement("input",i({},this.props,{className:(0,p["default"])("tau-in-text",{"tau-error":this.props.isInvalid}),ref:"url",type:"text",value:e.url})))),c["default"].createElement("div",{className:y["default"].row},c["default"].createElement("label",{className:y["default"].label},c["default"].createElement("span",{className:y["default"].labeltext},"Description"),c["default"].createElement("input",i({},this.props,{className:(0,p["default"])("tau-in-text",{"tau-error":this.props.isInvalid}),ref:"label",type:"text",value:e.label})))))}},{key:"value",get:function(){return{url:(0,l.findDOMNode)(this.refs.url).value,label:(0,l.findDOMNode)(this.refs.label).value}}}]),t}(c["default"].Component);m.defaultProps={value:{url:void 0,label:void 0}},t["default"]=m},function(e,t,n){var r=n(64);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={block:"_1eUDFC08SWC5giTMlqtN4-",row:"_3FKe1bTEPBkiG-yeaQab5p",label:"_3WSPbnC7NN1qIY0UZLuYtA",labeltext:"_15HXgIUbNO4y9arvCyclsj"},t.push([e.id,"._1eUDFC08SWC5giTMlqtN4-{flex:1 1 0}._3FKe1bTEPBkiG-yeaQab5p+._3FKe1bTEPBkiG-yeaQab5p{margin-top:5px}._3WSPbnC7NN1qIY0UZLuYtA{display:flex;align-items:baseline}._3WSPbnC7NN1qIY0UZLuYtA>input,._3WSPbnC7NN1qIY0UZLuYtA>select{flex:1 1 auto}._15HXgIUbNO4y9arvCyclsj{flex:0 0 100px;color:#999};",""])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(20),c=r(l),f=n(39),p=r(f),d=n(46),y=r(d),m=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props.value,t=void 0;return e.length&&(t=e.map(function(e){return c["default"].createElement(y["default"],{entity:e,key:e.id,"short":!0})})),c["default"].createElement(p["default"],i({},this.props,{multiple:!0,placeholder:"Click to select entities",ref:"input"}),t)}},{key:"value",get:function(){return this.refs.input.value}}]),t}(c["default"].Component);m.propTypes={value:l.PropTypes.array},m.defaultProps={value:[]},t["default"]=m},function(e,t,n){var r=n(67);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={block:"_1nJnaHCxDu7S63Y0g7Q3Yq",label:"_2jIs91_VS0ur_GOc-oP4LS",labeltext:"_3JK7uTIFYzIDu-B-i62U-0",labeltextrichtext:"C6r1CZlV7oF7h9BExBj6",sublabeltext:"_19-np2b6V2TAl_HCxBCWyz"},t.push([e.id,"._1nJnaHCxDu7S63Y0g7Q3Yq{margin-bottom:5px;margin-left:10px}._2jIs91_VS0ur_GOc-oP4LS{display:flex;align-items:baseline}._2jIs91_VS0ur_GOc-oP4LS>.tau-in-text,._2jIs91_VS0ur_GOc-oP4LS>.ui-dateeditor,._2jIs91_VS0ur_GOc-oP4LS>input,._2jIs91_VS0ur_GOc-oP4LS>select,._2jIs91_VS0ur_GOc-oP4LS>textarea{flex:1 1 auto;min-width:10px}._3JK7uTIFYzIDu-B-i62U-0{flex:0 0 100px;color:#999}.C6r1CZlV7oF7h9BExBj6{align-self:flex-start;position:relative;top:.5em}._19-np2b6V2TAl_HCxBCWyz{margin-top:3px;font-size:11px}",""])},function(e,t,n){var r=n(69);"string"==typeof r&&(r=[[e.id,r,""]]);n(28)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(27)(),t.locals={header:"_1FSLQK58Wv1JuaCy3rCn5C",note:"_-c7IHrP8Xxt9QG4dCriQ3",error:"chRnK4FzwIIBDPRSgseIZ",buttons:"_3-oCuRoqCs196g2SH94bg8"},t.push([e.id,"._1FSLQK58Wv1JuaCy3rCn5C{margin-bottom:10px;font-size:14px}._-c7IHrP8Xxt9QG4dCriQ3,.chRnK4FzwIIBDPRSgseIZ{padding:10px;background-color:#FFFFE1;margin-bottom:5px}._-c7IHrP8Xxt9QG4dCriQ3{color:#606B73}.chRnK4FzwIIBDPRSgseIZ{color:#f66}._3-oCuRoqCs196g2SH94bg8{margin-left:8px;margin-top:10px}",""])},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(9),u=function(e){var t=e.config,n=e.value;return(0,a.inValues)(["multipleselectionlist","dropdown"],e.fieldType)&&(t.options=(0,o.isString)(n)?(0,o.compact)((0,o.invoke)(n.split(/\r?\n/),"trim")):[]),(0,a.inValues)(["multipleentities","entity"],e.fieldType)&&(t.entityTypeIds=(0,o.isString)(n)?(0,o.compact)((0,o.invoke)(n.split(/\r?\n/),"trim")):[]),(0,a.inValues)(["templatedurl"],e.fieldType)&&(t.template=n),t},i=function(e){var t=e.config.defaultValue,n=null;switch((0,a.lc)(e.fieldType)){case"multipleselectionlist":case"multipleentities":n=(0,o.isString)(t)&&t?t.split(","):[];break;case"entity":n=t||null;break;default:n=t}if((0,a.inValues)(["multipleselectionlist","dropdown"],e.fieldType)&&(0,o.isEmpty)(n)){var r=u(e),i=r.options;i.length&&(n="multipleselectionlist"===(0,a.lc)(e.fieldType)?[i[0]]:i[0])}return n},s=function(e){return(0,o.isEmpty)(e.defaultValue)};t["default"]=function(e){var t=r({},(0,o.pick)(e,"name","entityType"),{type:e.fieldType.toLowerCase(),config:{}});return t.defaultValue=i(e),t.isEmptyDefaultValue=s(t),t.config=u(e),t}},function(e,t,n){"use strict";var r=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(s){o=!0,a=s}finally{try{!r&&i["return"]&&i["return"]()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0}),t.fromInputValue=t.fromServerValue=void 0;var o=n(5),a=function(e,t){switch(e.type){case"multipleselectionlist":return(0,o.isString)(t)&&t?t.split(","):[];case"url":return t||{};case"entity":if(t){var n=t.id,a=t.kind,u=t.name;return{id:n,name:u,entityType:{name:a}}}return t;case"multipleentities":var i=(0,o.isString)(t)&&t?t.split(","):[];return i.map(function(e){var t=e.split(" "),n=r(t,2),o=n[0],a=n[1];return{id:o,entityType:{name:a}}});default:return t}},u=function(e,t){return!(0,o.isNumber)(t)&&(0,o.isEmpty)(t)},i=function(e,t){return null!==t},s=function(e,t){return t},l=function(e,t){if("multipleselectionlist"===e.type&&t)return t.join(",");if("entity"===e.type&&t){var n=t.id,r=t.entityType.name,o=t.name;return{id:n,kind:r,name:o}}return"multipleentities"===e.type&&t?t.map(function(e){return e.id+" "+e.entityType.name.toLowerCase()}).join(","):t};t.fromServerValue=function(e,t){var n=a(e,t);return{name:e.name,customField:e,value:n,isEmpty:u(e,t),isInitialized:i(e,t),serverValue:l(e,n)}},t.fromInputValue=function(e,t){var n=s(e,t);return{name:e.name,customField:e,value:n,isEmpty:u(e,t),isInitialized:i(e,t),serverValue:l(e,n)}}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeFieldValue=void 0;var a=n(5),u=n(71),i=r(u),s=t.sanitizeFieldValue=function(e,t){return"url"===e.type&&t?{url:(t.url||"").trim(),label:(t.label||"").trim()}:"string"==typeof t?t.trim():t},l=function(e,t){var n={text:function(e){return!e},url:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.url,n=e.label;return!t||!n},checkbox:function(e){return e!==!1&&e!==!0},multipleselectionlist:function(e){return!e.length},multipleentities:function(e){return!e.length}};return(n[e.type]||n.text)(t)?new Error("Field is empty"):void 0},c=function(e,t){var n=s(e,t),r=[];return[l].forEach(function(t){var o=t(e,n);o&&(r=r.concat(o))}),r};t["default"]=function(e,t,n){var r=!(0,a.isEmpty)(t),u=e.map(function(e){var u=void 0,s=!1;r&&t.hasOwnProperty(e.name)?(s=!0,u=i.fromInputValue(e,t[e.name])):(u=(0,a.find)(n,function(t){return t.name===e.name}),u=o({},u,{value:u.customField.defaultValue})),u||(u=i.fromInputValue(e,null));var l=u,f=l.name,p=u.value,d=s,y=p,m=c(u.customField,u.value),h=Boolean(m.length);return{name:f,customFieldValue:u,field:u.customField,hasDirtyValue:d,hasErrors:h,isValid:!m.length,validationErrors:m,value:y}});return{fields:u,isValid:u.every(function(e){return e.isValid})}}},function(e,t){e.exports=l},function(e,t){e.exports=c},function(e,t){e.exports=f},function(e,t){e.exports=p},function(e,t){e.exports=d},function(e,t){e.exports=y},function(e,t){e.exports=m},function(e,t){e.exports=h},function(e,t){e.exports=v},function(e,t){e.exports=g},function(e,t){e.exports=b},function(e,t){e.exports=O},function(e,t){e.exports=w},function(e,t){e.exports=j}])})}();
